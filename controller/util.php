<?php define('î®', '¾Åş');—…ŒµêÉà„ÍÌôàË†›ÄÛ¦ÀòÕ™“©¯¹ëğ¢“ˆ¨ ¾“éŸ—¸ì™¸”´ıïÂ¥±µúÊÉ¥ú;$GLOBALS[î®] = explode('|-|+|5', 'KOD_GROUP_PATH|-|+|5{group_path}|-|+|5KOD_GROUP_SHARE|-|+|5{group_share}|-|+|5KOD_USER_SHARE|-|+|5{user_share}|-|+|5KOD_USER_RECYCLE|-|+|5{user_recycle}|-|+|5KOD_USER_FAV|-|+|5{user_fav}|-|+|5KOD_GROUP_ROOT_SELF|-|+|5{tree_group_self}|-|+|5KOD_GROUP_ROOT_ALL|-|+|5{tree_group_all}|-|+|5is_root|-|+|5\\|-|+|5/|-|+|5../|-|+|5/\\.+\\/+/|-|+|5/\\/+/|-|+|5path_type|-|+|5|-|+|5path_pre|-|+|5path_id|-|+|5path_id_user_share|-|+|5:|-|+|5share/|-|+|5kod_user|-|+|5user_id|-|+|5config|-|+|5path_role_group_default|-|+|51|-|+|5actions|-|+|5path|-|+|5role|-|+|5type|-|+|5file|-|+|5filelist|-|+|5folderlist|-|+|5share|-|+|5//|-|+|5L|-|+|5group_not_exist|-|+|5path_from_auth_check|-|+|5no_permission_group|-|+|5path_role_group|-|+|5no_permission_action|-|+|5path_role_define|-|+|5<|-|+|5>|-|+|5auth|-|+|5ext_not_allow|-|+|5||-|+|5.|-|+|5.DS_Store|-|+|5iconv|-|+|5system_charset|-|+|5utf-8|-|+|5zh-CN|-|+|5zh-TW|-|+|5gbk|-|+|5.txt|-|+|5unzip_file_charset_get|-|+|5filename|-|+|5gbk|-|+|5mb_convert_encoding|-|+|5mb_detect_encoding|-|+|5check_charset|-|+|5unicode|-|+|5cp936|-|+|5euc-cn|-|+|5ascii|-|+|5iso-8859-1|-|+|5settings|-|+|5updload_chunk_size|-|+|5in|-|+|5user|-|+|5size|-|+|5lib/core/|-|+|5Application.class.php|-|+|5default_socket_timeout|-|+|5http|-|+|5method|-|+|5GET|-|+|5timeout|-|+|5<li>|-|+|5php_env_error_iconv|-|+|5</li>|-|+|5mb_convert_encoding|-|+|5php_env_error_mb_string|-|+|55.0|-|+|5>=|-|+|5php_env_error_version|-|+|5file_get_contents|-|+|5php_env_error_file|-|+|5php_env_error_list_dir|-|+|5system|-|+|5User|-|+|5Group|-|+|5session|-|+|5/	|-|+|5php_env_error_path|-|+|5imagecreatefromjpeg|-|+|5imagecreatefromgif|-|+|5imagecreatefrompng|-|+|5imagecolorallocate|-|+|5php_env_error_gd|-|+|5.cache_data|-|+|5data ç›®å½•ä¸å­˜åœ¨!

(æ£€æŸ¥ DATA_PATH);|-|+|5config/version.php|-|+|5\'KOD_VERSION\',\'(.*)\'|-|+|5æ‚¨æœåŠ¡å™¨å¼€å¯äº†phpç¼“å­˜,æ–‡ä»¶æ›´æ–°å°šæœªç”Ÿæ•ˆ;
			è¯·å…³é—­ç¼“å­˜ï¼Œæˆ–ç¨å1åˆ†é’Ÿåˆ·æ–°é¡µé¢å†è¯•ï¼
			<a href=\'http://www.tuicool.com/articles/QVjeu2i\' target=\'_blank\'>äº†è§£è¯¦æƒ…</a>|-|+|5[Error Code:1002] ç›®å½•æƒé™é”™è¯¯ï¼è¯·è®¾ç½®ç¨‹åºç›®å½•åŠæ‰€æœ‰å­ç›®å½•ä¸ºè¯»å†™çŠ¶æ€ï¼Œ
				linux è¿è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š
				<pre>chmod -R 777 |-|+|5</pre>|-|+|5index.html|-|+|5system/apps.php|-|+|5update.php|-|+|5access_token|-|+|5SaeStorage|-|+|5SAE_APPNAME|-|+|5HTTP_APPNAME|-|+|5setting_system|-|+|5system_password|-|+|5kodExplorer_|-|+|5access_token error!|-|+|5need_check_code|-|+|5en|-|+|5setting_all|-|+|5language|-|+|5zh|-|+|5zh-tw|-|+|5HTTP_ACCEPT_LANGUAGE|-|+|5en|-|+|5_|-|+|5-|-|+|5~([-a-z]+)(;q=([0-9.]+))?~|-|+|5~-.*~|-|+|5kod_user_language|-|+|5..|-|+|5zh_CN|-|+|5zh_TW|-|+|5/main.php|-|+|5LANGUAGE_TYPE|-|+|5*|-|+|5?|-|+|5"|-|+|5system_setting.php|-|+|5setting_system_default|-|+|5app|-|+|5first_in|-|+|5index|-|+|5system_role_group.php|-|+|5kod_name|-|+|5system_name|-|+|5kod_name_desc|-|+|5system_desc|-|+|5powerby|-|+|5kod_power_by|-|+|5config/setting_user.php|-|+|5STATIC_PATH|-|+|5static_path|-|+|5KOD_SESSION_SSO|-|+|5kod_token|-|+|5location:./index.php?user/login|-|+|5+|-|+|5=|-|+|5_a|-|+|5_b|-|+|5_c');ë¦¥ôÎÆ³â°ÓúéÁˆƒ;
 define($GLOBALS{î®}[0],$GLOBALS{î®}{0x001});define($GLOBALS{î®}[0x0002],$GLOBALS{î®}{0x00003});define($GLOBALS{î®}[0x000004],$GLOBALS{î®}{0x05});define($GLOBALS{î®}[0x006],$GLOBALS{î®}{0x0007});define($GLOBALS{î®}[0x00008],$GLOBALS{î®}{0x000009});define($GLOBALS{î®}[0x0a],$GLOBALS{î®}{0x00b});define($GLOBALS{î®}[0x000c],$GLOBALS{î®}{0x0000d});function _DIR_CLEAR($±){$Êà=&$GLOBALS{î®};if(isset($GLOBALS[$Êà[0x00000e]])&& $GLOBALS[$Êà[0x00000e]]){return $±;}$±=str_replace($Êà{0x0f},$Êà[0x0010],trim($±));if(strstr($±,$Êà{0x00011})){$±=preg_replace($Êà[0x000012],$Êà[0x0010],$±);}$±=preg_replace($Êà{0x0000013},$Êà[0x0010],$±);return $±;}function _DIR($ºå){$¶¶¤Ò=&$GLOBALS{î®};$È=_DIR_CLEAR($ºå);¸İ¦‚ÂıÀ‰ıı÷¬±¦€Å¸†÷ï®ÂÑÊü¸ŞÆıİ‹¶»²¹ı±úˆ¯ø€Ü«§ÜñßãéĞ“¬¢;$È=iconv_system($È);½ğØ›üÖ¯ÊÕàÅŞ‘¿ßíë‡Êİæ¯Ç·ÃóÙ¡;$µß=array(KOD_GROUP_PATH,KOD_GROUP_SHARE,KOD_GROUP_ROOT_SELF,KOD_GROUP_ROOT_ALL,KOD_USER_SHARE,KOD_USER_RECYCLE,KOD_USER_FAV,);$GLOBALS[$¶¶¤Ò[0x014]]=$¶¶¤Ò{0x0015};$GLOBALS[$¶¶¤Ò[0x00016]]=HOME;Ò¾ê© ±;$GLOBALS[$¶¶¤Ò{0x000017}]=$¶¶¤Ò{0x0015};unset($GLOBALS[$¶¶¤Ò[0x0000018]]);foreach($µß as $çŸÜîê){if(substr($È,0,strlen($çŸÜîê))==$çŸÜîê){$GLOBALS[$¶¶¤Ò[0x014]]=$çŸÜîê;$Ö›ƒ=explode($¶¶¤Ò[0x0010],$È);$Ş=$Ö›ƒ[0];unset($Ö›ƒ[0]);$è€—à=implode($¶¶¤Ò[0x0010],$Ö›ƒ);$®Ü=explode($¶¶¤Ò{0x019},$Ş);if(count($®Ü)>0x001){$GLOBALS[$¶¶¤Ò{0x000017}]=trim($®Ü[0x001]);}else{$GLOBALS[$¶¶¤Ò{0x000017}]=$¶¶¤Ò{0x0015};}break;}}switch($GLOBALS[$¶¶¤Ò[0x014]]){case $¶¶¤Ò{0x0015}:$È=iconv_system(HOME).$È;break;¹Ú˜êâÉÛËè¹»Ôô“ïø¡Îğ‹Ï‰ª°²Øê§¾âà™úËüÅ¨É¯â†;case KOD_USER_RECYCLE:$GLOBALS[$¶¶¤Ò[0x00016]]=trim(USER_RECYCLE,$¶¶¤Ò[0x0010]);$GLOBALS[$¶¶¤Ò{0x000017}]=$¶¶¤Ò{0x0015};Ñ»ÃÂÆ”ÌñÅşÊÓêñ“ÎÓ¬Ê ªÉó¿¬;return iconv_system(USER_RECYCLE).$¶¶¤Ò[0x0010].str_replace(KOD_USER_RECYCLE,$¶¶¤Ò{0x0015},$È);”¸×;case KOD_USER_FAV:$GLOBALS[$¶¶¤Ò[0x00016]]=trim(KOD_USER_FAV,$¶¶¤Ò[0x0010]);—‘ç‰ÖçÓ«ÒÆ¾¢›êì»–ü…Š½²;$GLOBALS[$¶¶¤Ò{0x000017}]=$¶¶¤Ò{0x0015};return KOD_USER_FAV;case KOD_GROUP_ROOT_SELF:$GLOBALS[$¶¶¤Ò[0x00016]]=trim(KOD_GROUP_ROOT_SELF,$¶¶¤Ò[0x0010]);$GLOBALS[$¶¶¤Ò{0x000017}]=$¶¶¤Ò{0x0015};return KOD_GROUP_ROOT_SELF;case KOD_GROUP_ROOT_ALL:$GLOBALS[$¶¶¤Ò[0x00016]]=trim(KOD_GROUP_ROOT_ALL,$¶¶¤Ò[0x0010]);$GLOBALS[$¶¶¤Ò{0x000017}]=$¶¶¤Ò{0x0015};Ê”‹¡ûßÍÏ¦ŒñÂ÷ßıİ;return KOD_GROUP_ROOT_ALL;case KOD_GROUP_PATH:$›=system_group::get_info($GLOBALS[$¶¶¤Ò{0x000017}]);if(!$GLOBALS[$¶¶¤Ò{0x000017}]|| !$›)return !1;owner_group_check($GLOBALS[$¶¶¤Ò{0x000017}]);$GLOBALS[$¶¶¤Ò[0x00016]]=group_home_path($›);$È=iconv_system($GLOBALS[$¶¶¤Ò[0x00016]]).$è€—à;ş£’ª¥Ü¿°ş»Ì‹·ØıùĞİ÷ß»ûø×²—õ¡ĞÏ óáË™;break;case KOD_GROUP_SHARE:$›=system_group::get_info($GLOBALS[$¶¶¤Ò{0x000017}]);if(!$GLOBALS[$¶¶¤Ò{0x000017}]|| !$›)return !1;owner_group_check($GLOBALS[$¶¶¤Ò{0x000017}]);ÚŒÒ’äÑ¶°†–ëƒÄµ§»Ö÷‹÷ëíÃ†®ÎÏì–;$GLOBALS[$¶¶¤Ò[0x00016]]=group_home_path($›).$¶¶¤Ò[0x001a];$È=iconv_system($GLOBALS[$¶¶¤Ò[0x00016]]).$è€—à;Ş¼Ë–ìÒ­ÙÕ½ŒäÙâİåÛÉÔŸÏƒî ğ†ËêğŠÊ­Öàš©ó€Ì’;break;case KOD_USER_SHARE:$›=system_member::get_info($GLOBALS[$¶¶¤Ò{0x000017}]);if(!$GLOBALS[$¶¶¤Ò{0x000017}]|| !$›)return !1;if($GLOBALS[$¶¶¤Ò{0x000017}]!=$_SESSION[$¶¶¤Ò{0x0001b}][$¶¶¤Ò[0x00001c]]){$ïÓËÚ=$GLOBALS[$¶¶¤Ò{0x000001d}][$¶¶¤Ò[0x01e]][$¶¶¤Ò{0x001f}][$¶¶¤Ò[0x00020]];path_role_check($ïÓËÚ);}$GLOBALS[$¶¶¤Ò[0x00016]]=$¶¶¤Ò{0x0015};$GLOBALS[$¶¶¤Ò[0x0000018]]=$ºå;if($è€—à==$¶¶¤Ò{0x0015}){return $È;}else{$««ÚËœ=explode($¶¶¤Ò[0x0010],$è€—à);$««ÚËœ[0]=iconv_app($««ÚËœ[0]);$˜‡Ñ£=system_member::user_share_get($GLOBALS[$¶¶¤Ò{0x000017}],$««ÚËœ[0]);$GLOBALS[$¶¶¤Ò[0x0000018]]=KOD_USER_SHARE.$¶¶¤Ò{0x019}.$GLOBALS[$¶¶¤Ò{0x000017}].$¶¶¤Ò[0x0010].$««ÚËœ[0].$¶¶¤Ò[0x0010];unset($««ÚËœ[0]);if(!$˜‡Ñ£)return !1;$şú³™=rtrim($˜‡Ñ£[$¶¶¤Ò{0x000021}],$¶¶¤Ò[0x0010]).$¶¶¤Ò[0x0010].iconv_app(implode($¶¶¤Ò[0x0010],$««ÚËœ));if($›[$¶¶¤Ò[0x0000022]]!=$¶¶¤Ò{0x001f}){$¥=user_home_path($›);$GLOBALS[$¶¶¤Ò[0x00016]]=$¥.rtrim($˜‡Ñ£[$¶¶¤Ò{0x000021}],$¶¶¤Ò[0x0010]).$¶¶¤Ò[0x0010];$È=$¥.$şú³™;}else{$GLOBALS[$¶¶¤Ò[0x00016]]=$˜‡Ñ£[$¶¶¤Ò{0x000021}];$È=$şú³™;}if($˜‡Ñ£[$¶¶¤Ò{0x023}]==$¶¶¤Ò[0x0024]){$GLOBALS[$¶¶¤Ò[0x0000018]]=rtrim($GLOBALS[$¶¶¤Ò[0x0000018]],$¶¶¤Ò[0x0010]);$GLOBALS[$¶¶¤Ò[0x00016]]=rtrim($GLOBALS[$¶¶¤Ò[0x00016]],$¶¶¤Ò[0x0010]);}$È=iconv_system($È);}break;default:break;}if($È!=$¶¶¤Ò[0x0010]){$È=rtrim($È,$¶¶¤Ò[0x0010]);if(is_dir($È))$È=$È.$¶¶¤Ò[0x0010];}return $È;Ñáî¬ŠÚ;}function _DIR_OUT($½){$§=&$GLOBALS{î®};if(is_array($½)){foreach($½[$§{0x00025}] as $êà­ê=>&$à„‚¤){$à„‚¤[$§{0x000021}]=pre_clear($à„‚¤[$§{0x000021}]);}foreach($½[$§[0x000026]] as $êà­ê=>&$à„‚¤){$à„‚¤[$§{0x000021}]=pre_clear(rtrim($à„‚¤[$§{0x000021}],$§[0x0010]).$§[0x0010]);}}else{$½=pre_clear($½);}return $½;}function pre_clear($´Úõ){$İÆäòª=&$GLOBALS{î®};$ıÇ¥=$GLOBALS[$İÆäòª[0x014]];ÈÍæ€ò¹˜°•ƒ‘Âíí£òïÇ‡˜û»òñıñº£ß°Ó©ıº©ğ;$Â¢ŠÆ³=rtrim($GLOBALS[$İÆäòª[0x00016]],$İÆäòª[0x0010]);ğ©“¹°¬¶ë ©ê’ã;$•âœ”=array(KOD_USER_FAV,KOD_GROUP_ROOT_SELF,KOD_GROUP_ROOT_ALL);‰¨Ÿ;if(isset($GLOBALS[$İÆäòª[0x014]])&& in_array($GLOBALS[$İÆäòª[0x014]],$•âœ”)){return $´Úõ;}if(ST==$İÆäòª{0x0000027}){return str_replace($Â¢ŠÆ³,$İÆäòª{0x0015},$´Úõ);}if($GLOBALS[$İÆäòª{0x000017}]!=$İÆäòª{0x0015}){$ıÇ¥.=$İÆäòª{0x019}.$GLOBALS[$İÆäòª{0x000017}].$İÆäòª[0x0010];}if(isset($GLOBALS[$İÆäòª[0x0000018]])){$ıÇ¥=$GLOBALS[$İÆäòª[0x0000018]];}$Üì†ş=$ıÇ¥.str_replace($Â¢ŠÆ³,$İÆäòª{0x0015},$´Úõ);$Üì†ş=str_replace($İÆäòª[0x028],$İÆäòª[0x0010],$Üì†ş);™à¿ÏÌßø;return $Üì†ş;}function owner_group_check($‡){$¬Àº=&$GLOBALS{î®};if(!$‡)show_json($GLOBALS[$¬Àº{0x0029}][$¬Àº[0x0002a]].$‡,!1);if($GLOBALS[$¬Àº[0x00000e]]||(isset($GLOBALS[$¬Àº{0x00002b}])&& $GLOBALS[$¬Àº{0x00002b}]===!0)){return;}$Çİ=system_member::user_auth_group($‡);if($Çİ==!1){if($GLOBALS[$¬Àº[0x014]]==KOD_GROUP_PATH){show_json($GLOBALS[$¬Àº{0x0029}][$¬Àº[0x000002c]],!1);}else if($GLOBALS[$¬Àº[0x014]]==KOD_GROUP_SHARE){$¶ü¢“=$GLOBALS[$¬Àº{0x000001d}][$¬Àº[0x01e]][$¬Àº{0x001f}];}}else{$¶ü¢“=$GLOBALS[$¬Àº{0x000001d}][$¬Àº{0x02d}][$Çİ];ÉÙ§âºæ²;}path_role_check($¶ü¢“[$¬Àº[0x00020]]);}function path_role_check($ü²){$“Ù¼Ê×=&$GLOBALS{î®};if($GLOBALS[$“Ù¼Ê×[0x00000e]]||(isset($GLOBALS[$“Ù¼Ê×{0x00002b}])&& $GLOBALS[$“Ù¼Ê×{0x00002b}]===!0)){return;}$…û=role_permission_arr($ü²);if(!isset($…û[ST.$“Ù¼Ê×{0x019}.ACT])){show_json($GLOBALS[$“Ù¼Ê×{0x0029}][$“Ù¼Ê×[0x002e]],!1);}}function role_permission_arr($ŞÂ‰ñ){$´Ø=&$GLOBALS{î®};$â=array();$¢¦È=$GLOBALS[$´Ø{0x000001d}][$´Ø{0x0002f}];Ùï£;foreach($ŞÂ‰ñ as $¢Åİ=>$ñø){if(!$ñø)continue;$¼ĞÌ›”=explode($´Ø{0x019},$¢Åİ);¹¨‘×©´;if(count($¼ĞÌ›”)==0x0002&& is_array($¢¦È[$¼ĞÌ›”[0]])&& is_array($¢¦È[$¼ĞÌ›”[0]][$¼ĞÌ›”[0x001]])){$â=array_merge($â,$¢¦È[$¼ĞÌ›”[0]][$¼ĞÌ›”[0x001]]);}}$ò„çöİ=array();ùà”™‘†’ıÂãÊŞø;foreach($â as $ñø){$ò„çöİ[$ñø]=$´Ø{0x001f};}return $ò„çöİ;•«³¿ß³²ä›©ÂòÄùí¥‡¶•;}function checkExt($€·÷¡¥){$ëà€ï=&$GLOBALS{î®};if(strstr($€·÷¡¥,$ëà€ï[0x000030])|| strstr($€·÷¡¥,$ëà€ï{0x0000031})|| $€·÷¡¥==$ëà€ï{0x0015}){return 0;}$û=$GLOBALS[$ëà€ï[0x032]][$ëà€ï{0x0033}];$¾¯ù=explode($ëà€ï[0x00034],$û);foreach($¾¯ù as $­„ş×){if($­„ş×!==$ëà€ï{0x0015} && stristr($€·÷¡¥,$ëà€ï{0x000035}.$­„ş×)){return 0;}}return 0x001;ÁàÂĞèùåƒ®¿ƒ¯öúĞœÌ×Ìü;}function zip_pre_name($Ø·Òô,$´¸Ê²=false){$û¬°è=&$GLOBALS{î®};if(get_path_this($Ø·Òô)==$û¬°è[0x0000036])return $û¬°è{0x0015};if(!function_exists($û¬°è{0x037})){return $Ø·Òô;}$¡á=$GLOBALS[$û¬°è{0x000001d}][$û¬°è[0x0038]];if($´¸Ê²==!1){$´¸Ê²=$û¬°è{0x00039};$¤‘ç á=get_default_lang();if(client_is_windows()&&($¤‘ç á==$û¬°è[0x00003a] || $¤‘ç á==$û¬°è{0x000003b} || LANGUAGE_TYPE==$û¬°è{0x000003b} || LANGUAGE_TYPE==$û¬°è{0x000003b})){$´¸Ê²=$û¬°è[0x03c];}}$®=@iconv($¡á,$´¸Ê²,$Ø·Òô);if(!$®){$®=$Ø·Òô;}return $®;}function unzip_filter_ext($íŠ’Á){$Œ=$GLOBALS{î®}{0x003d};“ëˆ´ÎøØßáøÂç¨òÅ¥Ÿö­©èœ´úİµˆÓîßçÛèœ;if(checkExt($íŠ’Á)){return $íŠ’Á;}return $íŠ’Á.$Œ;}function unzip_pre_name($áõ){$¬É³=&$GLOBALS{î®};if(!function_exists($¬É³{0x037})){return unzip_filter_ext($áõ);}if(isset($GLOBALS[$¬É³[0x0003e]])){$Ä=$GLOBALS[$¬É³[0x0003e]];}else{$Ä=get_charset($áõ);}$Î¬™Áò=$GLOBALS[$¬É³{0x000001d}][$¬É³[0x0038]];$áêÍ=@iconv($Ä,$Î¬™Áò,$áõ);if(!$áêÍ){$áêÍ=$áõ;}$áêÍ=unzip_filter_ext($áêÍ);return $áêÍ;}function unzip_charset_get($ş){$áÒ­=&$GLOBALS{î®};if(count($ş)==0)return $áÒ­{0x00039};$ßîœ=array();äõç;for($¬ËĞ=0;$¬ËĞ<count($ş);$¬ËĞ++){$å“Ì¤=get_charset($ş[$¬ËĞ][$áÒ­{0x00003f}]);†Ì«³–Ş¾•›„¸åÏ½ËÅ¥§ÇÑò˜«Ø¬øı¢±ñ¨ıÜ”ü›ª™º¯Ñ¡ş;if(!isset($ßîœ[$å“Ì¤])){$ßîœ[$å“Ì¤]=0x001;}else{$ßîœ[$å“Ì¤]+= 0x001;}}arsort($ßîœ);$Åµ”ˆ=array_keys($ßîœ);if(in_array($áÒ­[0x0000040],$Åµ”ˆ)){$Åµ”ˆ[0]=$áÒ­[0x0000040];}$GLOBALS[$áÒ­[0x0003e]]=$Åµ”ˆ[0];return $Åµ”ˆ[0];}function charset_check(&$õŞÓŸ,$ñûòï){$ïÇÀ=&$GLOBALS{î®};if($õŞÓŸ===$ïÇÀ{0x0015} || !function_exists($ïÇÀ{0x041})){return !1;}$=$ïÇÀ{0x00039};$Ò=@mb_convert_encoding($õŞÓŸ,$,$ñûòï);Ìëá’¢õ ªşÆŞàšÂì–¯Êˆ¬¾÷ÄÛ‚˜©İöÊî‰ìå©—äğöÆ‹…‰œòŸÌ½¨øû ½Ø¢ÖƒãùËÒ„¸¹­;$ŸÈå=@mb_convert_encoding($Ò,$ñûòï,$);if($õŞÓŸ==$ŸÈå){return !0;}return !1;}function get_charset(&$ûØ){$Ô=&$GLOBALS{î®};if($ûØ===$Ô{0x0015} || !function_exists($Ô[0x0042])){return $Ô{0x00039};}$Õû£=strtolower(@mb_detect_encoding($ûØ,$GLOBALS[$Ô{0x000001d}][$Ô{0x00043}]));if(substr($ûØ,0,0x0002)==chr(0xFF).chr(0xFE)|| substr($ûØ,0,0x0002)==chr(0xFE).chr(0xFF)){$Õû£=$Ô[0x000044];}else if(substr($ûØ,0,0x00003)==chr(0xEF).chr(0xBB).chr(0xBF)){$Õû£=$Ô{0x00039};}else if($Õû£==$Ô{0x0000045} || $Õû£==$Ô[0x046]){$Õû£=$Ô[0x0000040];}else if($Õû£==$Ô{0x0047}){$Õû£=$Ô{0x00039};}if($Õû£==$Ô[0x00048]){if(charset_check($ûØ,$Ô{0x00039})){$Õû£=$Ô{0x00039};}}return $Õû£;ÒÉÚÖƒ”;}function file_upload_size(){$«ˆ=&$GLOBALS{î®};global$config;if(isset($config[$«ˆ{0x000049}][$«ˆ[0x000004a]])){return $config[$«ˆ{0x000049}][$«ˆ[0x000004a]];}$™=get_post_max();return $™;˜­™­­Ñ»;}function space_size_use_check(){$Ø¦=&$GLOBALS{î®};if(!system_space())return;if($GLOBALS[$Ø¦[0x00000e]]==0x001)return;if($GLOBALS[$Ø¦[0x014]]==KOD_GROUP_SHARE|| $GLOBALS[$Ø¦[0x014]]==KOD_GROUP_PATH){system_group::space_check($GLOBALS[$Ø¦{0x000017}]);}else{if(ST==$Ø¦{0x0000027}){$¨=$GLOBALS[$Ø¦{0x04b}][$Ø¦[0x004c]];}else{$¨=$_SESSION[$Ø¦{0x0001b}][$Ø¦[0x00001c]];}system_member::space_check($¨);}}function space_size_use_change($¬ï,$ó=true,$‰È=false,$¯æï€=false){$±ßê=&$GLOBALS{î®};if(!system_space())return;if($‰È===!1){$‰È=$GLOBALS[$±ßê[0x014]];$¯æï€=$GLOBALS[$±ßê{0x000017}];}$ó=$ó?0x001:-0x001;if(is_file($¬ï)){$ø™“=get_filesize($¬ï);}else if(is_dir($¬ï)){$®äƒ=_path_info_more($¬ï);$ø™“=$®äƒ[$±ßê{0x0004d}];}else{return;}if($‰È==KOD_GROUP_SHARE|| $‰È==KOD_GROUP_PATH){system_group::space_change($¯æï€,$ø™“*$ó);}else{if(ST==$±ßê{0x0000027}){$‘ŒØ¹=$GLOBALS[$±ßê{0x04b}][$±ßê[0x004c]];}else{$‘ŒØ¹=$_SESSION[$±ßê{0x0001b}][$±ßê[0x00001c]];}system_member::space_change($‘ŒØ¹,$ø™“*$ó);}}function space_size_use_reset(){$ıøÔ‚Ñ=&$GLOBALS{î®};if(!system_space())return;$ĞøâÅ=isset($GLOBALS[$ıøÔ‚Ñ[0x014]])?$GLOBALS[$ıøÔ‚Ñ[0x014]]:$ıøÔ‚Ñ{0x0015};$ñœõá=isset($GLOBALS[$ıøÔ‚Ñ{0x000017}])?$GLOBALS[$ıøÔ‚Ñ{0x000017}]:$ıøÔ‚Ñ{0x0015};if($ĞøâÅ==KOD_GROUP_SHARE|| $ĞøâÅ==KOD_GROUP_PATH){system_group::space_change($ñœõá);}else{$Û¶É=$_SESSION[$ıøÔ‚Ñ{0x0001b}][$ıøÔ‚Ñ[0x00001c]];system_member::space_change($Û¶É);}}function check_list_dir(){$Öşù=&$GLOBALS{î®};$ªŸÆ=APPHOST.$Öşù[0x00004e];ºÑ«;$Ç=$Öşù{0x000004f};@ini_set($Öşù[0x050],0x001);$§œœ=stream_context_create(array($Öşù{0x0051}=>array($Öşù[0x00052]=>$Öşù{0x000053},$Öşù[0x0000054]=>0x001)));ú°çø©¼úú£Š¦ÃĞƒÄƒ¾–®Ü®öçÔ±ñÎÔ×ÇÏ‰°É²íÅ®‘ÏÔÕ¡×š¤–°ÓóŞÊÛ´üë¦ÌÀı”‘ˆÅÛº³¢éÅò¿›”˜µ¸;$æŒ=@file_get_contents($ªŸÆ,!1,$§œœ);if(stripos($æŒ,$Ç)===!1){return !0;}else{return !1;}}function php_env_check(){$šÇ¥À=&$GLOBALS{î®};$ë ¡­=$GLOBALS[$šÇ¥À{0x0029}];$¿§û=$šÇ¥À{0x0015};if(!function_exists($šÇ¥À{0x037}))$¿§û.= $šÇ¥À{0x055}.$ë ¡­[$šÇ¥À[0x0056]].$šÇ¥À{0x00057};if(!function_exists($šÇ¥À[0x000058]))$¿§û.= $šÇ¥À{0x055}.$ë ¡­[$šÇ¥À{0x0000059}].$šÇ¥À{0x00057};if(!version_compare(PHP_VERSION,$šÇ¥À[0x05a],$šÇ¥À{0x005b}))$¿§û.= $šÇ¥À{0x055}.$ë ¡­[$šÇ¥À[0x0005c]].$šÇ¥À{0x00057};if(!function_exists($šÇ¥À{0x00005d}))$¿§û.=$šÇ¥À{0x055}.$ë ¡­[$šÇ¥À[0x000005e]].$šÇ¥À{0x00057};if(!check_list_dir())$¿§û.=$šÇ¥À{0x055}.$ë ¡­[$šÇ¥À{0x05f}].$šÇ¥À{0x00057};$°¾Íö=get_path_father(BASIC_PATH);$’=array(BASIC_PATH,DATA_PATH,DATA_PATH.$šÇ¥À[0x0060],DATA_PATH.$šÇ¥À{0x00061},DATA_PATH.$šÇ¥À[0x000062],DATA_PATH.$šÇ¥À{0x0000063});ıÕ¯‹øõâøï·å‘Ø“±ÒÙŒî½½;foreach($’ as $Œ´){if(!path_writeable($Œ´)){$¿§û.= $šÇ¥À{0x055}.str_replace($°¾Íö,$šÇ¥À{0x0015},$Œ´).$šÇ¥À[0x064].$ë ¡­[$šÇ¥À{0x0065}].$šÇ¥À{0x00057};}}if(!function_exists($šÇ¥À[0x00066])|| !function_exists($šÇ¥À{0x000067})|| !function_exists($šÇ¥À[0x0000068])|| !function_exists($šÇ¥À{0x069})){$¿§û.= $šÇ¥À{0x055}.$ë ¡­[$šÇ¥À[0x006a]].$šÇ¥À{0x00057};}return $¿§û;}include(CLASS_DIR.$GLOBALS{î®}{0x0006b});function init_common(){$½=&$GLOBALS{î®};$GLOBALS[$½{0x04b}]=parse_incoming();if(!file_exists(DATA_PATH)){show_tips($½[0x00006c]);}$–À=file_get_contents(BASIC_PATH.$½{0x000006d});$¶=match($–À,$½[0x06e]);if($¶!=KOD_VERSION){show_tips($½{0x006f});}$î¹¢=$½[0x00070].BASIC_PATH.$½{0x000071};if(!file_exists(KOD_SESSION)|| !file_exists(KOD_SESSION.$½[0x0000072])){mk_dir(KOD_SESSION);touch(KOD_SESSION.$½[0x0000072]);if(!file_exists(KOD_SESSION.$½[0x0000072])){show_tips($î¹¢);}}if(!is_writable(KOD_SESSION)|| !is_writable(KOD_SESSION.$½[0x0000072])|| !is_writable(DATA_PATH.$½{0x073})|| !is_writable(DATA_PATH)){show_tips($î¹¢);}$ë=LIB_DIR.$½[0x0074];if(file_exists($ë)){if(!is_writable($ë)){show_tips($î¹¢);}include($ë);update_check($ë);del_file($ë);Æ„ıó³Óªûøê‚ÍÌ’…Şœ­¨ŒæËÓşæš¿;if(file_exists($ë)){show_tips($î¹¢);}user_logout();}}function init_session(){$ñõ=&$GLOBALS{î®};if(isset($_GET[$ñõ{0x00075}])){access_token_check($_GET[$ñõ{0x00075}]);}else{@session_name(SESSION_ID);}if(class_exists($ñõ[0x000076])|| defined($ñõ{0x0000077})|| isset($_SERVER[$ñõ[0x078]])){}else{@session_save_path(KOD_SESSION);}@session_start();@session_write_close();}function access_token_check($íïÆú){$ø›Ğìé=&$GLOBALS{î®};$ÙÛÎ=$GLOBALS[$ø›Ğìé{0x000001d}][$ø›Ğìé{0x0079}][$ø›Ğìé[0x0007a]];$ÙÛÎ=substr(md5($ø›Ğìé{0x00007b}.$ÙÛÎ),0,0x0f);…ä­•¸¬üÒì«ñªÍ¢Äü‹´Ã‡ÂĞé Õâ¸èƒåş»“ü€¨«õ£Èº¡ÔïåÛ²ò­ĞİÎ¦Áìß«ğÅª¬Ø¨»ØĞ½„Ç;$Í‚ƒ¢=Mcrypt::decode($íïÆú,$ÙÛÎ);¦Ü¬öºûûéı¨ÚÃÓ‡ûÃõÌ‚ú”ãÈ—æê‹Ïé±­—¨ç”ÇäıÅÙŠàá§İ¥«§™¿‹â×òÎâÃ¸•ğĞ¾Øä†¾ãÌÌ½Ö®ŸşŒÅ·í·;if(!$Í‚ƒ¢){show_tips($ø›Ğìé[0x000007c]);}session_id($Í‚ƒ¢);}function access_token_get(){$ôğ´ıš=&$GLOBALS{î®};$°£É=session_id();$‰úÙº=$GLOBALS[$ôğ´ıš{0x000001d}][$ôğ´ıš{0x0079}][$ôğ´ıš[0x0007a]];$‰úÙº=substr(md5($ôğ´ıš{0x00007b}.$‰úÙº),0,0x0f);´¶œ´ÂáÒúÏ‹óÉ¦Ä¶;$ù=Mcrypt::encode($°£É,$‰úÙº,0x0e10*0x0000018);‰¨Í„ƒİ¾Á»Æ½ğüÚ¥À¼÷»„°Ö«õ;return $ù;}function init_config(){init_setting();init_lang();init_user_setting();init_session();ˆ…÷´Åµ­‚Â±²™Ü¨§š™‹Î›¥ÒÂ´ß¢ÒèÀáí¹—´îÄ¶;}function need_check_code(){$¬=&$GLOBALS{î®};$öé=$GLOBALS[$¬{0x000001d}][$¬{0x0079}];óî¬‘úû­ ÎËã;if(!$öé[$¬{0x07d}]|| !function_exists($¬[0x00066])|| !function_exists($¬{0x000067})|| !function_exists($¬[0x0000068])|| !function_exists($¬{0x069})){return !1;}else{return !0;}}function get_default_lang(){$õ=&$GLOBALS{î®};$Ö=$õ[0x007e];$¹„=$GLOBALS[$õ{0x000001d}][$õ{0x0007f}][$õ[0x000080]];–ï¢ÙîâìãÒšõÍ–¤îäğÒèØ¿³ ø¸¡Êñ’àáµî»¥Ò©‰¦Ã€ô;$¤ã¿•=array();foreach($¹„ as $³=>$æ±â Ò){$¤ã¿•[$³]=$³;}$¤ã¿•[$õ{0x0000081}]=$õ[0x00003a];$¤ã¿•[$õ[0x082]]=$õ{0x000003b};›ı°ÀÑÚÊ÷ÊìøîĞ¹…ˆâ¸;$Ë=array();if(!isset($_SERVER[$õ{0x0083}])){$®À=$õ[0x00084];}else{$®À=str_replace($õ{0x000085},$õ[0x0000086],strtolower($_SERVER[$õ{0x0083}]));}preg_match_all($õ{0x087},$®À,$ÓƒëÇ,PREG_SET_ORDER);foreach($ÓƒëÇ as $êø){$Ë[$êø[0x001]]=(isset($êø[0x00003])?$êø[0x00003]:0x001);©´òô¢ìäò¦éû‰£”ÕÃŞ……ûáÙşÍ¡¸›ıõï¨ªâ;}arsort($Ë);À÷;foreach($Ë as $³=>$¼Ñ×){if(isset($¤ã¿•[$³])){$Ö=$¤ã¿•[$³];break;}$³=preg_replace($õ[0x0088],$õ{0x0015},$³);if(!isset($Ë[$³])&& isset($¤ã¿•[$³])){$Ö=$¤ã¿•[$³];break;}}return $Ö;Ú­¿´­ÖËÇñÊ½áòçÅ‘µ—“ö´‘‘†èæ·ÆÁä;}function init_lang(){$‚ç=&$GLOBALS{î®};if(isset($_COOKIE[$‚ç{0x00089}])){$”=$_COOKIE[$‚ç{0x00089}];}else{$”=get_default_lang();setcookie_header($‚ç{0x00089},$”,time()+0x0e10*0x0000018*0x064);}$”=str_replace(array($‚ç[0x0010],$‚ç{0x0f},$‚ç[0x00008a],$‚ç{0x000035}),$‚ç{0x0015},$”);if(isset($GLOBALS[$‚ç{0x000001d}][$‚ç{0x000049}][$‚ç[0x000080]])){$”=$GLOBALS[$‚ç{0x000001d}][$‚ç{0x000049}][$‚ç[0x000080]];}if($”==$‚ç{0x000008b})$”=$‚ç[0x00003a];if($”==$‚ç[0x08c])$”=$‚ç{0x000003b};$ŞÛ¿ª=LANGUAGE_PATH.$”.$‚ç{0x008d};if(!file_exists($ŞÛ¿ª)){$”=$‚ç[0x00084];$ŞÛ¿ª=LANGUAGE_PATH.$”.$‚ç{0x008d};}define($‚ç[0x0008e],$”);$GLOBALS[$‚ç{0x0029}]=include($ŞÛ¿ª);}function make_path($¸ş){$Î›ú=&$GLOBALS{î®};$°Ã=array($Î›ú[0x0010],$Î›ú{0x0f},$Î›ú{0x019},$Î›ú{0x00008f},$Î›ú[0x0000090],$Î›ú{0x091},$Î›ú[0x000030],$Î›ú{0x0000031},$Î›ú[0x00034]);ë‰¼£Ğı‰ÖôœëÁûÇ‚¦á¤ÄäŒò;return str_replace($°Ã,$Î›ú{0x000085},$¸ş);}function init_setting(){$îß=&$GLOBALS{î®};$¼ÑŸ=USER_SYSTEM.$îß[0x0092];—ÌíƒèÙÅå¢Ç;$…=$GLOBALS[$îß{0x000001d}][$îß{0x00093}];øÄˆ…ûÖ¡ö‹İÉª¤Øî»æ»ªé¥…¯Œ¨ö˜­ãé˜Ü® âª÷…¢ƒâë®ˆÄÄ«Ùï–€õÅŒ;if(!file_exists($¼ÑŸ)){$¥Ë¡=$…;fileCache::save($¼ÑŸ,$¥Ë¡);}else{$¥Ë¡=fileCache::load($¼ÑŸ);}foreach($… as $ä=>$½…áèı){if(!isset($¥Ë¡[$ä])){$¥Ë¡[$ä]=$½…áèı;}}$GLOBALS[$îß[0x000094]]->setDefaultController($¥Ë¡[$îß{0x0000095}]);Ê;$GLOBALS[$îß[0x000094]]->setDefaultAction($îß[0x096]);½Í™é¨‰€©şÆ¶„Ûé¦êÎ¦©Ôˆ“ÒïŸÔº—;$GLOBALS[$îß{0x000001d}][$îß{0x0079}]=$¥Ë¡;$Õ=USER_SYSTEM.$îß{0x0097};ü±À¦±‡ÜÏŒ¹¹²¤‰ØÎŞáá±;$‡™=$GLOBALS[$îß{0x000001d}][$îß[0x01e]];if(!file_exists($Õ)){fileCache::save($Õ,$‡™);}else{$‡™=fileCache::load($Õ);}$GLOBALS[$îß{0x000001d}][$îß{0x02d}]=$‡™;}function init_user_setting(){$£=&$GLOBALS{î®};$GLOBALS[$£{0x0029}][$£[0x00098]]=$GLOBALS[$£{0x000001d}][$£{0x0079}][$£{0x000099}];öï„¨öá÷ƒ›²¶À¼œòğÎÅòÕÒŒáïûÂµ« ­;$GLOBALS[$£{0x0029}][$£[0x000009a]]=$GLOBALS[$£{0x000001d}][$£{0x0079}][$£{0x09b}];if(isset($Ö“[$£[0x009c]])){$GLOBALS[$£{0x0029}][$£{0x0009d}]=$GLOBALS[$£{0x000001d}][$£{0x0079}][$£[0x009c]];}$Ï=BASIC_PATH.$£[0x00009e];if(file_exists($Ï)){include($Ï);}define($£{0x000009f},$GLOBALS[$£{0x000001d}][$£{0x000049}][$£[0x0a0]]);}function user_logout(){$ÕŸ =&$GLOBALS{î®};@session_destroy();@session_name($ÕŸ {0x00a1});ŞóÛÑå«—ØêåâÛá¦’Ç¿©ì—½óæÔ—é£ûªƒï‡ÔÕ²ì¯³Ø;@session_start();@session_destroy();setcookie(SESSION_ID,$ÕŸ {0x0015},time()-0x0e10,$ÕŸ [0x0010]);setcookie($ÕŸ [0x00098],$ÕŸ {0x0015},time()-0x0e10);††ˆ¯òŸíç‡Â€ğæüœéí¤¿Ä×¬óŒ†Š¤º‚âƒ;setcookie($ÕŸ [0x000a2],$ÕŸ {0x0015},time()-0x0e10);header($ÕŸ {0x0000a3});İª¦Æ±éÆ£;exit;º²äùö½§ëÉ­õíè÷Ğì€»÷¸™£ßßÕÉ§ùšì;}function hash_encode($—İøƒ){$ø•=&$GLOBALS{î®};return str_replace(base64_encode($—İøƒ),array($ø•[0x00000a4],$ø•[0x0010],$ø•{0x0a5}),array($ø•[0x00a6],$ø•{0x000a7},$ø•[0x0000a8]));}function hash_decode($ğ){$–¥ÂÀ=&$GLOBALS{î®};return base64_decode(str_replace($ğ,array($–¥ÂÀ[0x00a6],$–¥ÂÀ{0x000a7},$–¥ÂÀ[0x0000a8]),array($–¥ÂÀ[0x00000a4],$–¥ÂÀ[0x0010],$–¥ÂÀ{0x0a5})));£õ«¼™‹ïÔÄéï±¥ÆÑÅ˜è¤‘ëÌ¸äáÉÖÉÇÉì¾ôªØÇÈÖ³Ç¿Ø’¦úÃ¸çñÌò»¤½„íªÂãÕœåä¼«˜„ëğ’ı¹øÔñàää®× ;}