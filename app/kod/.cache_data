<?php define('ˆˆ', 'Í­…');·ó›‹Æüó‘;$GLOBALS[ˆˆ] = explode('|%|/|=', 'config|%|/|=|%|/|=settingSystem|%|/|=systemPassword|%|/|=settings|%|/|=downloadUrlTime|%|/|=index.php?|%|/|=paramRewrite|%|/|=index.php/|%|/|=user/publicLink&fid=|%|/|=&file_name=/|%|/|=path|%|/|=/home/|%|/|=homePath|%|/|=autoDeskViewer|%|/|=Q|%|/|=gstarCAD|%|/|=P|%|/|=fileHistory|%|/|=onlyoffice|%|/|=systemLog|%|/|=designView|%|/|=fileView|%|/|=T|%|/|=versionType|%|/|=A|%|/|=.|%|/|=O|%|/|=P|%|/|=Q|%|/|=R|%|/|=S|%|/|=T|%|/|=system_member.php|%|/|=systemMember.add|%|/|=isImport|%|/|=version_not_support|%|/|=version_error|%|/|=version_not_support_number|%|/|=systemMember.edit|%|/|=systemMember.get|%|/|=system_group.php|%|/|=systemGroup.add|%|/|=systemGroup.edit|%|/|=systemGroup.get|%|/|=user.versionInstall|%|/|=share.commonJs|%|/|=kodUser|%|/|=role|%|/|=1|%|/|=user/license.html|%|/|=explorer.officeSave|%|/|=system_role.php|%|/|=@dfq[-)&*^*%(_90|%|/|=versionHash|%|/|=versionUser|%|/|=versionLicense|%|/|=deviceUUID|%|/|=devicePath|%|/|=./lib/core/|%|/|=./app/core/|%|/|=|%|/|=reset|%|/|=location:./|%|/|=license_code|%|/|=license/index|%|/|=pluginServer|%|/|=https://|%|/|=http://|%|/|=&code=|%|/|=&uuid=|%|/|=&referer=|%|/|=HTTP_REFERER|%|/|=INSTALL_CHANNEL|%|/|=&channel=|%|/|=code|%|/|=data|%|/|=system_setting.php|%|/|=version_license|%|/|=version_type|%|/|=/config/setting_user.php|%|/|=<?php |%|/|=success|%|/|=./|%|/|=./index.php?user/versionInstall|%|/|=Success !(å‡çº§æˆåŠŸ)|%|/|=version_time_to|%|/|=.|%|/|=.log|%|/|=config/i18n/|%|/|=app/core/|%|/|=app/kod/|%|/|=Group/|%|/|=User/|%|/|=system/|%|/|=/|%|/|=set_device_path|%|/|=./app/core/ can\'t writeable');ª²€Êñşœ”á™óÛ¶Øíõ…ëÛĞñ”ÅŸŒŒ”ôıÈ¨ı“šı°®ßÊ£¼‚ûªø—ÕÒŠé˜˜Š¤¤ÂšŒÂœ ÜšÑŒúœ¯·Ÿ¬â™®ùî…Ùšã¿Âƒƒİ  ¼¯ı×‹Òº‹¾çí×–èÇ˜í¡²Œ†òÏŠõ­«†Îè¶ÍÀ·Ø“Ö”–ûî’õ¶ªäØİğßĞÁ;
 function _make_file_proxy($«){$»=&$GLOBALS{ˆˆ};$½¤Î=$GLOBALS[$»[0]];ò…öÀ¿¡ñûÄÍë’;if(!file_exists($«)){return $»{0x001};}$ğØ„ùî=$½¤Î[$»[0x0002]][$»{0x00003}];$ê“Î=Mcrypt::encode($«,$ğØ„ùî,$½¤Î[$»[0x000004]][$»{0x05}]);´ãÛ²ñ¦;$÷=rawurlencode(iconv_app(get_path_this($«)));Ù´„§ —£’ğ¨Œßèöò·í²Ä¢—¡ÔŠÇû;$å=APP_HOST.$»[0x006];¼îªäÂ‰£³±°”›§ˆÒ;if(isset($½¤Î[$»[0x000004]][$»{0x0007}])&& $½¤Î[$»[0x000004]][$»{0x0007}]==!0){$å=APP_HOST.$»[0x00008];}return $å.$»{0x000009}.$ê“Î.$»[0x0a].$÷;}function group_home_path($¸){$èí™=&$GLOBALS{ˆˆ};$ºÜƒ=GROUP_PATH.$¸[$èí™{0x00b}].$èí™[0x000c];if(isset($¸[$èí™{0x0000d}])&& file_exists(iconv_system($¸[$èí™{0x0000d}]))){$ºÜƒ=$¸[$èí™{0x0000d}];}return $ºÜƒ;}function user_home_path($‰º){$“şš=&$GLOBALS{ˆˆ};$š=USER_PATH.$‰º[$“şš{0x00b}].$“şš[0x000c];²ÌíÆè–Î»¬‹Ôåİô;if(isset($‰º[$“şš{0x0000d}])&& file_exists(iconv_system($‰º[$“şš{0x0000d}]))){$š=$‰º[$“şš{0x0000d}];}return $š;}function plugin_check_auth($í´š½,$¬×Æ){$›®=&$GLOBALS{ˆˆ};$–ø”=array($›®[0x00000e] =>$›®{0x0f},$›®[0x0010] =>$›®{0x00011},$›®[0x000012] =>$›®{0x0f},$›®{0x0000013} =>$›®{0x00011},$›®[0x014] =>$›®{0x00011},$›®{0x0015} =>$›®{0x00011},$›®[0x00016] =>$›®{0x000017},);$ü›=$GLOBALS[$›®[0]][$›®[0x0002]][$›®[0x0000018]];if(isset($–ø”[$í´š½])&& $ü›<$–ø”[$í´š½]){return !1;}return check_user_select($¬×Æ);}function system_space(){$³=&$GLOBALS{ˆˆ};$Ÿ£´²£=$³{0x019};„½¬Â†Ù›;$ ²Åµ=$GLOBALS[$³[0]][$³[0x0002]][$³[0x0000018]];if($ ²Åµ==$Ÿ£´²£){return !1;}return !0;}function systemMemberData(){$·Îï=&$GLOBALS{ˆˆ};global$in;›±üÊ«îàĞ“±¥¶¾ÒùÅ¬–’ÍÈ;$„€ß·=ST.$·Îï[0x001a].ACT;î¨£ºÔÁ©¶’¼ç“âÒµ™˜â¯«°÷„µ÷ãìË;$“»„·=$·Îï{0x019};¡ŒŞ÷ŸÁ—ò÷°ŒÛß·ŒØ»ÁĞ ¯úÃÙşûÑØôòè‚Ñà¢”ø•ª¡èŠÙõâ•¸´¶èÒ±¬­°¨şŠòò ÅÔÂÙÍ;$ç÷úĞ=$·Îï{0x0001b};$Çæê€=$·Îï[0x00001c];$èî=$·Îï{0x000001d};„¿›İ;$ş=$·Îï[0x01e];¯¤›—–è ë±‡Ö±£ø›’Ë²®ĞñÊßÏÙâÏ¯¹’ŞŞ®öûÅß;$±‘=$·Îï{0x001f};$Ã=$·Îï[0x00020];ÛÎ’‹ „ÖÔ;$ã¤=$GLOBALS[$·Îï[0]][$·Îï[0x0002]][$·Îï[0x0000018]];¿üæ¶ù¬—˜Ş©½èí‡;if(!$ã¤|| !in_array($ã¤,array($“»„·,$ç÷úĞ,$Çæê€,$èî,$ş,$±‘,$Ã))){$ã¤=$“»„·;}$Íãºßî=new FileCache(USER_SYSTEM.$·Îï{0x000021});$äÅÛ¹=array($“»„·=>0x0a,$ç÷úĞ=>0x014,$Çæê€=>0x032,$èî=>0x096,$ş=>0x01f4,$±‘=>0x03e8,$Ã=>0x03e8,);×Ş—˜ÜıÏÖ«æï‹‘®óşµŞÌ™™­‰ô’ÎÑÌÆ’«ğÂ·ÍÁ‡¥íî–;$€Äìşú=$Íãºßî->get();æúÛì­Ù³À†;$²ÈŠ=$äÅÛ¹[$ã¤];if($„€ß·==$·Îï[0x0000022]){if($ã¤==$“»„·&& isset($in[$·Îï{0x023}])){show_json(LNG($·Îï[0x0024]),!1,$·Îï{0x00025});}if(count($€Äìşú)>=$²ÈŠ&& $²ÈŠ!=0x03e8){show_json(LNG($·Îï[0x000026]),!1,$·Îï{0x00025});}}if($„€ß·==$·Îï[0x0000022] || $„€ß·==$·Îï{0x0000027}){if($ã¤==$“»„·&& isset($in[$·Îï{0x0000d}])){show_json(LNG($·Îï[0x0024]),!1,$·Îï{0x00025});}}if($„€ß·==$·Îï[0x028]){if(count($€Äìşú)>$²ÈŠ&& $²ÈŠ!=0x03e8){$¦=0x001;$½ñ‚=array();foreach($€Äìşú as $„€ß·=>$ü­Î){if($¦>$²ÈŠ)break;$½ñ‚[$„€ß·]=$ü­Î;$¦++;}$Íãºßî->reset($½ñ‚,!1);×ŸŸ²Óß¸¦’‚±“Ãº‡ÅøùÆúÙÈø‡˜Œœâ½ºİ­í±¦×¡;}$€Äìşú=$Íãºßî->get();if($ã¤==$“»„·){$½ñ‚=array();foreach($€Äìşú as $„€ß·=>$ü­Î){unset($ü­Î[$·Îï{0x0000d}]);$½ñ‚[$„€ß·]=$ü­Î;}$Íãºßî->reset($½ñ‚,!1);}}return $Íãºßî;}function systemGroupData(){$¦¹=&$GLOBALS{ˆˆ};global$in;$è=ST.$¦¹[0x001a].ACT;$ä”¤Ş=$¦¹{0x019};$ë¸ =$¦¹{0x0001b};$Ûˆô=$¦¹[0x00001c];ğ’;$šœ=$¦¹{0x000001d};Ê‘€´ËÛšß€øû¾äµŞûº—ñ„Ğôôãš€ôâë¿ôëôÀÇ¡È‰‡íÓæıĞ¡•Â¦æ·œÊÒ¬;$Ç¸=$¦¹[0x01e];$¤=$¦¹{0x001f};Œæ¶–…¾„Ø¥ƒ©Æ˜ëì€¤ŠËö¶˜¾ÆĞÆËõÃ‘ãĞøšæıØëÖıî€Åˆì³‰‘½Ôˆ;$ìÇ»¾=$¦¹[0x00020];$Ó˜˜=$GLOBALS[$¦¹[0]][$¦¹[0x0002]][$¦¹[0x0000018]];if(!$Ó˜˜|| !in_array($Ó˜˜,array($ä”¤Ş,$ë¸ ,$Ûˆô,$šœ,$Ç¸,$¤,$ìÇ»¾))){$Ó˜˜=$ä”¤Ş;}$=new FileCache(USER_SYSTEM.$¦¹{0x0029});$ø=array($ä”¤Ş=>0x001,$ë¸ =>0x05,$Ûˆô=>0x014,$šœ=>0x01e,$Ç¸=>0x064,$¤=>0x03e8,$ìÇ»¾=>0x03e8,);çÑğÔ…ùæÂÏï·½·òû;$ú±›=$->get();$À¥ı=$ø[$Ó˜˜];Æ˜®…;if($è==$¦¹[0x0002a]){if(count($ú±›)>=$À¥ı&& $À¥ı!=0x03e8){show_json(LNG($¦¹[0x000026]),!1,$¦¹{0x00025});}}if($è==$¦¹[0x0002a] || $è==$¦¹{0x00002b}){if($Ó˜˜==$ä”¤Ş&& isset($in[$¦¹{0x0000d}])){show_json(LNG($¦¹[0x0024]),!1,$¦¹{0x00025});}}if($è==$¦¹[0x000002c]){if(count($ú±›)>$À¥ı&& $À¥ı!=0x03e8){$ ÚîšÂ=0x001;$ê²=array();foreach($ú±› as $è=>$¨êŞ¥²){if($ ÚîšÂ>$À¥ı)break;$ê²[$è]=$¨êŞ¥²;í¢”¡ÛÊ­¢çÅÑí¯ñÉŸŒÒ÷¿½¡ªÆÜö«åÀ¹ùá•Ä¸­ÔŠœ;$ ÚîšÂ++;}$->reset($ê²,!1);Šòö‚²µ¤İÒêºÊ‰å°É ««µğºí;}$ú±›=$->get();if($Ó˜˜==$ä”¤Ş){$ê²=array();foreach($ú±› as $è=>$¨êŞ¥²){unset($¨êŞ¥²[$¦¹{0x0000d}]);$ê²[$è]=$¨êŞ¥²;}$->reset($ê²,!1);}}return $;õ¢¹€•°ƒÈæ;}function systemRoleData(){$åò–¥=&$GLOBALS{ˆˆ};$á=ST.$åò–¥[0x001a].ACT;$Çµ=$åò–¥{0x019};‘ÒËñÛ†­ğûÏªüåÛ€®Â¨Õüº·‚Öş¸¼çšÎ‡ì›”Şö›Œè˜Ü”–Âğ–ñ´¿Ç±úş´Òşìç‡Şîó;if($á==$åò–¥{0x02d}){version_install();exit;}$„Óñ ß=&$GLOBALS[$åò–¥[0]][$åò–¥[0x0002]];if(!init_version_check()){$„Óñ ß[$åò–¥[0x0000018]]=$Çµ;if($á!=$åò–¥[0x002e] && is_array($_SESSION[$åò–¥{0x0002f}])&& $_SESSION[$åò–¥{0x0002f}][$åò–¥[0x000030]]==$åò–¥{0x0000031}){version_reset(!1);include(TEMPLATE.$åò–¥[0x032]);exit;}}if($á==$åò–¥{0x0033} && $„Óñ ß[$åò–¥[0x0000018]]==$Çµ){show_json(LNG($åò–¥[0x0024]),!1);}$¸½ïÎ=new FileCache(USER_SYSTEM.$åò–¥[0x00034]);return $¸½ïÎ;}function init_version_check(){$´=&$GLOBALS{ˆˆ};$Ç¡º=&$GLOBALS[$´[0]][$´[0x0002]];é„¢ğâ‘åİ•¹Ğµš¬î×¾Øş¥Ë•Ë‡İìÂÚàüÄåŸ¶È±œ§ÆÖ÷ü;$¤ìÉÁ¬=$´{0x000035};$ÑïÖ=$´{0x019};$´Šºë=$´{0x0001b};$ÑÖ‹›=$´[0x00001c];$ÃÏ=$´{0x000001d};ğà»»¢çŞã¹ÎºÖÆïá€Í¸Ô à¼˜‰€è‰»·ù;$òµ=$´[0x01e];¤•ãßìªÏÎ¬Ïä¥;$ô†ú=$´{0x001f};$ú=$´[0x00020];¯”Ó£Ê”şß¸•Ä˜‚;if(!isset($Ç¡º[$´[0x0000018]])|| !in_array($Ç¡º[$´[0x0000018]],array($ÑïÖ,$´Šºë,$ÑÖ‹›,$ÃÏ,$òµ,$ô†ú,$ú))){$Ç¡º[$´[0x0000018]]=$ÑïÖ;}if($Ç¡º[$´[0x0000018]]==$ÑïÖ){unset($Ç¡º[$´[0x0000036]]);return !0;}if(!isset($Ç¡º[$´[0x0000018]])|| !isset($Ç¡º[$´{0x037}])|| !isset($Ç¡º[$´[0x0038]])|| !isset($Ç¡º[$´{0x00039}])|| !isset($Ç¡º[$´[0x00003a]])){return !1;}if(strlen($Ç¡º[$´[0x0000018]])!=0x001|| strlen($Ç¡º[$´{0x037}])!=0x0010|| strlen($Ç¡º[$´[0x0038]])!=0x0003e|| strlen($Ç¡º[$´{0x00039}])!=0x0010){return !1;}$èĞœ¹î=substr($Ç¡º[$´[0x0038]],0x00020);$Ş=md5($èĞœ¹î.$Ç¡º[$´{0x037}].$Ç¡º[$´{0x00039}].$Ç¡º[$´[0x0000018]]);if($Ş!=substr($Ç¡º[$´[0x0038]],0,0x00020)){return !1;}$ä©†õ¤=Mcrypt::decode($Ç¡º[$´[0x00003a]],md5($¤ìÉÁ¬.$Ç¡º[$´[0x0038]]));$Ü®¤°=$´{0x000003b};ÒĞıç•—é…€»¡¹ª£™Ø›şƒ¡ô¨ ……Ïª¶¢šûôêúÜ“Ç†”ƒ¨Í®Ìçˆçæ;if(get_path_father($ä©†õ¤)==$Ü®¤°){$ä©†õ¤=str_replace($Ü®¤°,$´[0x03c],$ä©†õ¤);}$‰=!1;if(file_exists($ä©†õ¤)){$´ªá¹=file_get_contents($ä©†õ¤);$Œï¦ì=Mcrypt::decode($´ªá¹,md5($¤ìÉÁ¬.$Ç¡º[$´{0x00039}]));if($Œï¦ì!=$´{0x003d} && strtotime($Œï¦ì)>time()){$‰=!0;}}if(!$‰){return !1;}$’=substr(md5($Ç¡º[$´[0x0038]]),0x0a,0x0a);$ğ“û¸š=$’.$Ç¡º[$´[0x0000018]].$Ç¡º[$´{0x00039}];$Ç¡º[$´[0x0000036]]=Mcrypt::encode($ğ“û¸š,$¤ìÉÁ¬,0);return !0;Æòø­şƒŠ³­ëí¨÷İÅŸËØ²´ÉÅ±ƒàÁ¿¤¡ªµç®–± ÑßÀˆ†ŸÍ¦ê§Ø ñŸÑô€”´¥µŞÚı;}function version_install(){$Û…ô=&$GLOBALS{ˆˆ};$»Õ=&$GLOBALS[$Û…ô[0]][$Û…ô[0x0002]];¯¤éÎñºšéÚŒ‰­ŠÁµ¯ö•Š•””;$°ĞŸ=$Û…ô{0x000035};if(isset($_GET[$Û…ô[0x0003e]])){version_reset(!0);header($Û…ô{0x00003f});}if(!isset($_GET[$Û…ô[0x0000040]])){include(TEMPLATE.$Û…ô[0x032]);exit;}else{$ƒĞ‘íŸ=rand_string(0x0010);$èµª=$Û…ô{0x041};$èµª=$GLOBALS[$Û…ô[0]][$Û…ô[0x000004]][$Û…ô[0x0042]].$èµª;$èµª=str_replace($Û…ô{0x00043},$Û…ô[0x000044],$èµª);$â¬û¤á=$èµª.$Û…ô{0x0000045}.$_GET[$Û…ô[0x0000040]].$Û…ô[0x046].$ƒĞ‘íŸ;$â¬û¤á.=$Û…ô{0x0047}.rawurlencode($_SERVER[$Û…ô[0x00048]]);if(defined($Û…ô{0x000049})){$â¬û¤á.=$Û…ô[0x000004a].INSTALL_CHANNEL;}$œ÷=json_decode(file_get_contents($â¬û¤á),!0);if(is_array($œ÷)&& $œ÷[$Û…ô{0x04b}]==!0&& is_array($œ÷[$Û…ô[0x004c]])){$±ŒË=new FileCache(USER_SYSTEM.$Û…ô{0x0004d});$½œİ‹=$±ŒË->get();$½œİ‹[$Û…ô{0x037}]=$_GET[$Û…ô[0x0000040]];$½œİ‹[$Û…ô[0x0038]]=$œ÷[$Û…ô[0x004c]][$Û…ô[0x00004e]];$½œİ‹[$Û…ô{0x00039}]=$ƒĞ‘íŸ;$½œİ‹[$Û…ô[0x0000018]]=$œ÷[$Û…ô[0x004c]][$Û…ô{0x000004f}];$®=Mcrypt::decode($»Õ[$Û…ô[0x00003a]],md5($°ĞŸ.$»Õ[$Û…ô[0x0038]]));del_file($®);version_install_path($½œİ‹,$œ÷[$Û…ô[0x004c]]);$±ŒË->reset($½œİ‹);$Î=BASIC_PATH.$Û…ô[0x050];if(!file_exists($Î)){$©=$Û…ô{0x0051};file_put_contents($Î,$©);}install_msg(LNG($Û…ô[0x00052]));}else{install_msg($œ÷[$Û…ô[0x004c]],!1);ëèÃ˜åçú’…òÉ¶€–²½´Îœ¿îËÜı›ş‹ÅÀ¥¬êèÅĞÑÀãÖ´®´ÄÁòø‘¹Û—ş÷—Š½×Œâ…öÌÊÈŸ‹­ö;}}}function install_msg($Æç,$Ø÷=true){$Ñ÷»×=&$GLOBALS{ˆˆ};$ÙÔëØ=$Ø÷?$Ñ÷»×{0x000053} :$Ñ÷»×[0x0000054];‹Ûïíàç»«±Ú;show_tips($Æç,$ÙÔëØ,0x0002,$Ñ÷»×{0x055});}function version_install_path(&$ÜŸÕö÷,$ËÑ£¸){$À=&$GLOBALS{ˆˆ};$ğ¼=$ËÑ£¸[$À[0x0056]];$˜şêøç=$À{0x000035};$™‚=$À{0x003d};Õµ¬Ã’Ë™ŠÃçÖ–ŒÁüËĞùãĞäİ¹Œ„ÓáÌã·‚ú•Û•Ÿ üõ·Š…ø‡ÑÊ‚¶œç•Õó™©„úöç³ù;$¯ÔÅ®=$À{0x00057}.substr(md5(rand_string(0x014).time()),0x0f,0x0a).$À[0x000058];­Íª§Õüò×³¿Èå´á¸;$‡¡’‚=array(BASIC_PATH.$À{0x0000059},BASIC_PATH.$À[0x05a],BASIC_PATH.$À{0x005b},DATA_PATH.$À[0x0005c],DATA_PATH.$À{0x00005d},DATA_PATH.$À[0x000005e]);$‘îˆ=$À{0x003d};å“š‘»ï®ÇÂ½ˆ‹¤½í´õÌ¼—ß¾±£Ğ¡¬’‡ø÷š“ŠÕƒ™…ÊÛÂÓçç‘Öœˆ¤;foreach($‡¡’‚ as $ …˜Ñ){if(file_exists($ …˜Ñ)&& is_writable($ …˜Ñ)){$‘îˆ=$ …˜Ñ.$À{0x05f}.$¯ÔÅ®;break;}}if(isset($ËÑ£¸[$À[0x0060]])&& $ËÑ£¸[$À[0x0060]]==0x001){$‘îˆ=$À[0x03c].$¯ÔÅ®;}$èó=Mcrypt::encode($ğ¼,md5($˜şêøç.$ÜŸÕö÷[$À{0x00039}]));file_put_contents($‘îˆ,$èó);Îô–áşìä™ñ°õ´„İ–µ¹Ú“¾ß«‘‰•…Ş‘€­‡–†„ô õ¦–««óÈÁª‚ß…•ŸåÁ°î×µÎé¶ûğÍŒöÑ—Ç¨­òÓ¢»•Í¾õÓÔ•º–Å©íû÷×²ôÈ;if(!file_exists($‘îˆ)){install_msg($À{0x00061},!1);}$ÜŸÕö÷[$À[0x00003a]]=Mcrypt::encode($‘îˆ,md5($˜şêøç.$ÜŸÕö÷[$À[0x0038]]));return;}function version_reset($ƒØ›¬=false){$«ıä=&$GLOBALS{ˆˆ};$=&$GLOBALS[$«ıä[0]][$«ıä[0x0002]];$Ê•=$«ıä{0x000035};Ìİ;if(isset($[$«ıä[0x00003a]])){$‡ô=Mcrypt::decode($[$«ıä[0x00003a]],md5($Ê•.$[$«ıä[0x0038]]));del_file($‡ô);}$±ããª»=new FileCache(USER_SYSTEM.$«ıä{0x0004d});$ =$±ããª»->get();unset($ [$«ıä{0x037}]);unset($ [$«ıä[0x0038]]);unset($ [$«ıä{0x00039}]);Ÿ‡Ñ§–ÒÑàèÊêô˜É– ¾ıÑ¢áûŞøœä;unset($ [$«ıä[0x00003a]]);if($ƒØ›¬){unset($ [$«ıä[0x0000018]]);}$±ããª»->reset($ );}