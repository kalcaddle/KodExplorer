<?php define('', '');စȒᲕᲸމȠבܹҁˑ;$GLOBALS[] = explode('|,|3|=', 'config|,|3|=|,|3|=settingSystem|,|3|=systemPassword|,|3|=settings|,|3|=downloadUrlTime|,|3|=index.php?|,|3|=paramRewrite|,|3|=index.php/|,|3|=user/publicLink&fid=|,|3|=&file_name=/|,|3|=path|,|3|=/home/|,|3|=homePath|,|3|=autoDeskViewer|,|3|=Q|,|3|=gstarCAD|,|3|=P|,|3|=fileHistory|,|3|=djoffice|,|3|=O|,|3|=fileThumb|,|3|=onlyoffice|,|3|=systemLog|,|3|=designView|,|3|=fileView|,|3|=T|,|3|=versionType|,|3|=A|,|3|=.|,|3|=O|,|3|=P|,|3|=Q|,|3|=R|,|3|=S|,|3|=T|,|3|=system_member.php|,|3|=systemMember.add|,|3|=isImport|,|3|=version_not_support|,|3|=version_error|,|3|=version_not_support_number|,|3|=systemMember.edit|,|3|=systemMember.get|,|3|=system_group.php|,|3|=systemGroup.add|,|3|=systemGroup.edit|,|3|=systemGroup.get|,|3|=user.versionInstall|,|3|=share.commonJs|,|3|=kodUser|,|3|=role|,|3|=1|,|3|=user/license.html|,|3|=system_role.php|,|3|=@dfq[-)&*^*%(_90|,|3|=versionHash|,|3|=versionUser|,|3|=versionLicense|,|3|=deviceUUID|,|3|=devicePath|,|3|=./lib/core/|,|3|=./app/core/|,|3|=|,|3|=reset|,|3|=location:./|,|3|=license_code|,|3|=license/index|,|3|=pluginServer|,|3|=https://|,|3|=http://|,|3|=&code=|,|3|=&uuid=|,|3|=&referer=|,|3|=HTTP_REFERER|,|3|=INSTALL_CHANNEL|,|3|=&channel=|,|3|=code|,|3|=data|,|3|=system_setting.php|,|3|=version_license|,|3|=version_type|,|3|=/config/setting_user.php|,|3|=<?php |,|3|=success|,|3|=./|,|3|=./index.php?user/versionInstall|,|3|=Success !(升级成功)|,|3|=version_time_to|,|3|=.|,|3|=.log|,|3|=config/i18n/|,|3|=app/core/|,|3|=app/kod/|,|3|=Group/|,|3|=User/|,|3|=system/|,|3|=/|,|3|=set_device_path|,|3|=./app/core/ can\'t writeable');Ůʾɓȥ폖￪ڨΗ֛ǂؽ歹٘ũÈό;
 function _make_file_proxy($){$=&$GLOBALS{};$=$GLOBALS[$[0]];ᤤԽѮ˂ڭׇ򾅷ǱÄᎁ«;if(!file_exists($)){return ${0x001};}$ڧ=$[$[0x0002]][${0x00003}];$=Mcrypt::encode($,$ڧ,$[$[0x000004]][${0x05}]);$=rawurlencode(iconv_app(get_path_this($)));$=APP_HOST.$[0x006];if(isset($[$[0x000004]][${0x0007}])&& $[$[0x000004]][${0x0007}]==!0){$=APP_HOST.$[0x00008];}return $.${0x000009}.$.$[0x0a].$;}function group_home_path($ܹ){$=&$GLOBALS{};$փ=GROUP_PATH.$ܹ[${0x00b}].$[0x000c];if(isset($ܹ[${0x0000d}])&& file_exists(iconv_system($ܹ[${0x0000d}]))){$փ=$ܹ[${0x0000d}];}return $փ;}function user_home_path($){$=&$GLOBALS{};$=USER_PATH.$[${0x00b}].$[0x000c];if(isset($[${0x0000d}])&& file_exists(iconv_system($[${0x0000d}]))){$=$[${0x0000d}];}return $;}function plugin_check_auth($,$){$Ï=&$GLOBALS{};$ȫ=array($Ï[0x00000e] =>$Ï{0x0f},$Ï[0x0010] =>$Ï{0x00011},$Ï[0x000012] =>$Ï{0x0f},$Ï{0x0000013} =>$Ï[0x014],$Ï{0x0015} =>$Ï[0x014],$Ï[0x00016] =>$Ï{0x00011},$Ï{0x000017} =>$Ï{0x00011},$Ï[0x0000018] =>$Ï{0x00011},$Ï{0x019} =>$Ï[0x001a],);$=$GLOBALS[$Ï[0]][$Ï[0x0002]][$Ï{0x0001b}];σՂ႐ا݀峠ﴥŷ;if(isset($ȫ[$])&& $<$ȫ[$]){return !1;}return check_user_select($);}function system_space(){$=&$GLOBALS{};$̗=$[0x00001c];đ;$=$GLOBALS[$[0]][$[0x0002]][${0x0001b}];ɡ䶍ƙ;if($==$̗){return !1;}return !0;}function systemMemberData(){$峴=&$GLOBALS{};global$in;$=ST.$峴{0x000001d}.ACT;㩒ɵ;$=$峴[0x00001c];$=$峴[0x01e];$=$峴{0x001f};;$=$峴[0x00020];Ɠڛ;$=$峴{0x000021};$=$峴[0x0000022];$=$峴{0x023};ۡۦĎܠٖ䉻в;$ĵ=$GLOBALS[$峴[0]][$峴[0x0002]][$峴{0x0001b}];֓ю뷗䒴;if(!$ĵ|| !in_array($ĵ,array($,$,$,$,$,$,$))){$ĵ=$;}$=new FileCache(USER_SYSTEM.$峴[0x0024]);$߄=array($=>0x0a,$=>0x014,$=>0x032,$=>0x096,$=>0x01f4,$=>0x03e8,$=>0x03e8,);ͭᵁ؁;$=$->get();$=$߄[$ĵ];ÖŴԍ;if($==$峴{0x00025}){if($ĵ==$&& isset($in[$峴[0x000026]])){show_json(LNG($峴{0x0000027}),!1,$峴[0x028]);}if(count($)>=$&& $!=0x03e8){show_json(LNG($峴{0x0029}),!1,$峴[0x028]);}}if($==$峴{0x00025} || $==$峴[0x0002a]){if($ĵ==$&& isset($in[$峴{0x0000d}])){show_json(LNG($峴{0x0000027}),!1,$峴[0x028]);}}if($==$峴{0x00002b}){if(count($)>$&& $!=0x03e8){$=0x001;$=array();foreach($ as $=>$){if($>$)break;$[$]=$;$++;}$->reset($,!1);ؗԇܣ޴;}$=$->get();ڼ;if($ĵ==$){$=array();foreach($ as $=>$){unset($[$峴{0x0000d}]);$[$]=$;}$->reset($,!1);}}return $;}function systemGroupData(){$=&$GLOBALS{};global$in;$祕=ST.${0x000001d}.ACT;$ۺ=$[0x00001c];;$=$[0x01e];;$=${0x001f};;$ڰ=$[0x00020];骋;$=${0x000021};$џ=$[0x0000022];$Ŵ=${0x023};㙟ْԻԕ;$=$GLOBALS[$[0]][$[0x0002]][${0x0001b}];if(!$|| !in_array($,array($ۺ,$,$,$ڰ,$,$џ,$Ŵ))){$=$ۺ;}$=new FileCache(USER_SYSTEM.$[0x000002c]);$=array($ۺ=>0x001,$=>0x05,$=>0x014,$ڰ=>0x01e,$=>0x064,$џ=>0x03e8,$Ŵ=>0x03e8,);$=$->get();;$Ŏ=$[$];if($祕==${0x02d}){if(count($)>=$Ŏ&& $Ŏ!=0x03e8){show_json(LNG(${0x0029}),!1,$[0x028]);}}if($祕==${0x02d} || $祕==$[0x002e]){if($==$ۺ&& isset($in[${0x0000d}])){show_json(LNG(${0x0000027}),!1,$[0x028]);}}if($祕==${0x0002f}){if(count($)>$Ŏ&& $Ŏ!=0x03e8){$=0x001;$ۯ=array();foreach($ as $祕=>$){if($>$Ŏ)break;$ۯ[$祕]=$;ƺ;$++;ˇçՂὠ;}$->reset($ۯ,!1);;}$=$->get();if($==$ۺ){$ۯ=array();foreach($ as $祕=>$){unset($[${0x0000d}]);$ۯ[$祕]=$;}$->reset($ۯ,!1);}}return $;}function systemRoleData(){$=&$GLOBALS{};$=ST.${0x000001d}.ACT;ڤ;$͎=$[0x00001c];ߴ沩ٓ꠰;ȪӅ㱼݌;if($==$[0x000030]){version_install();exit;}$=&$GLOBALS[$[0]][$[0x0002]];if(!init_version_check()){$[${0x0001b}]=$͎;if($!=${0x0000031} && is_array($_SESSION[$[0x032]])&& $_SESSION[$[0x032]][${0x0033}]==$[0x00034]){version_reset(!1);include(TEMPLATE.${0x000035});exit;}}$φ=new FileCache(USER_SYSTEM.$[0x0000036]);return $φ;}function init_version_check(){$=&$GLOBALS{};$=&$GLOBALS[$[0]][$[0x0002]];$=${0x037};$=$[0x00001c];$=$[0x01e];$=${0x001f};߭ԏ˳é٩߫;$=$[0x00020];$Ȉ=${0x000021};󯵝禊䄅شᑆ֊Ř;$=$[0x0000022];$=${0x023};if(!isset($[${0x0001b}])|| !in_array($[${0x0001b}],array($,$,$,$,$Ȉ,$,$))){$[${0x0001b}]=$;}if($[${0x0001b}]==$){unset($[$[0x0038]]);return !0;}if(!isset($[${0x0001b}])|| !isset($[${0x00039}])|| !isset($[$[0x00003a]])|| !isset($[${0x000003b}])|| !isset($[$[0x03c]])){return !1;}if(strlen($[${0x0001b}])!=0x001|| strlen($[${0x00039}])!=0x0010|| strlen($[$[0x00003a]])!=0x0003e|| strlen($[${0x000003b}])!=0x0010){return !1;}$=substr($[$[0x00003a]],0x00020);$ō=md5($.$[${0x00039}].$[${0x000003b}].$[${0x0001b}]);if($ō!=substr($[$[0x00003a]],0,0x00020)){return !1;}$٦=Mcrypt::decode($[$[0x03c]],md5($.$[$[0x00003a]]));$=${0x003d};ϛέČ̤ϸӴ;if(get_path_father($٦)==$){$٦=str_replace($,$[0x0003e],$٦);}$=!1;if(file_exists($٦)){$=file_get_contents($٦);$㘋=Mcrypt::decode($,md5($.$[${0x000003b}]));if($㘋!=${0x00003f} && strtotime($㘋)>time()){$=!0;}}if(!$){return !1;}$=substr(md5($[$[0x00003a]]),0x0a,0x0a);$=$.$[${0x0001b}].$[${0x000003b}];ϑıć᎕򭩅Ց·;$[$[0x0038]]=Mcrypt::encode($,$,0);ܱɎяÛļ;return !0;}function version_install(){$=&$GLOBALS{};$=&$GLOBALS[$[0]][$[0x0002]];ɻݯ̀ˬهᎿ;$=${0x037};ڥè;if(isset($_GET[$[0x0000040]])){version_reset(!0);header(${0x041});}if(!isset($_GET[$[0x0042]])){include(TEMPLATE.${0x000035});exit;}else{$=rand_string(0x0010);$=${0x00043};$=$GLOBALS[$[0]][$[0x000004]][$[0x000044]].$;$=str_replace(${0x0000045},$[0x046],$);$=$.${0x0047}.$_GET[$[0x0042]].$[0x00048].$;$.=${0x000049}.rawurlencode($_SERVER[$[0x000004a]]);if(defined(${0x04b})){$.=$[0x004c].INSTALL_CHANNEL;}$=json_decode(file_get_contents($),!0);if(is_array($)&& $[${0x0004d}]==!0&& is_array($[$[0x00004e]])){$ϼ=new FileCache(USER_SYSTEM.${0x000004f});$=$ϼ->get();$[${0x00039}]=$_GET[$[0x0042]];$[$[0x00003a]]=$[$[0x00004e]][$[0x050]];$[${0x000003b}]=$;$[${0x0001b}]=$[$[0x00004e]][${0x0051}];$=Mcrypt::decode($[$[0x03c]],md5($.$[$[0x00003a]]));del_file($);version_install_path($,$[$[0x00004e]]);$ϼ->reset($);$=BASIC_PATH.$[0x00052];if(!file_exists($)){$=${0x000053};file_put_contents($,$);}install_msg(LNG($[0x0000054]));}else{install_msg($[$[0x00004e]],!1);אحı֌ݣŌנΔƐ·;}}}function install_msg($,$=true){$޶=&$GLOBALS{};$=$?$޶{0x055} :$޶[0x0056];ỖȆ;show_tips($,$,0x0002,$޶{0x00057});͛Ȉыڃ;}function version_install_path(&$,$ꐕ){$=&$GLOBALS{};$=$ꐕ[$[0x000058]];$=${0x037};Ȟȟ;$ԁ=${0x00003f};ឝ滴ʝǨ挈جʢӊ㔛;$=${0x0000059}.substr(md5(rand_string(0x014).time()),0x0f,0x0a).$[0x05a];$=array(BASIC_PATH.${0x005b},BASIC_PATH.$[0x0005c],BASIC_PATH.${0x00005d},DATA_PATH.$[0x000005e],DATA_PATH.${0x05f},DATA_PATH.$[0x0060]);$𐠣=${0x00003f};½пڀݍǚ蝥;foreach($ as $ʽ){if(file_exists($ʽ)&& is_writable($ʽ)){$𐠣=$ʽ.${0x00061}.$;break;}}if(isset($ꐕ[$[0x000062]])&& $ꐕ[$[0x000062]]==0x001){$𐠣=$[0x0003e].$;}$=Mcrypt::encode($,md5($.$[${0x000003b}]));file_put_contents($𐠣,$);if(!file_exists($𐠣)){install_msg(${0x0000063},!1);}$[$[0x03c]]=Mcrypt::encode($𐠣,md5($.$[$[0x00003a]]));return;ȧȜǯ藺劏ߝ柗;}function version_reset($=false){$=&$GLOBALS{};$=&$GLOBALS[$[0]][$[0x0002]];$=${0x037};܂햼ڐ;if(isset($[$[0x03c]])){$=Mcrypt::decode($[$[0x03c]],md5($.$[$[0x00003a]]));del_file($);}$铘=new FileCache(USER_SYSTEM.${0x000004f});$זϝ=$铘->get();unset($זϝ[${0x00039}]);;unset($זϝ[$[0x00003a]]);ڡ鈃ļͳ;unset($זϝ[${0x000003b}]);͉Ҫ֤Ϟ;unset($זϝ[$[0x03c]]);ߡ⢥у߫̀󽷸;if($){unset($זϝ[${0x0001b}]);}$铘->reset($זϝ);}