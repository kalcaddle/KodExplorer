<?php define('҇', '');ذ԰өޟِ߬ʒĵ犾Ԣ؎̈㘲ۇ׵ضǜ;$_SERVER[҇] = explode('|?|&|9', 'config|?|&|9|?|&|9settingSystem|?|&|9systemPassword|?|&|9settings|?|&|9downloadUrlTime|?|&|9index.php?|?|&|9paramRewrite|?|&|9index.php/|?|&|9user/publicLink&fid=|?|&|9&file_name=/|?|&|9path|?|&|9/home/|?|&|9homePath|?|&|9autoDeskViewer|?|&|9Q|?|&|9gstarCAD|?|&|9P|?|&|9fileHistory|?|&|9djoffice|?|&|9O|?|&|9onlyoffice|?|&|9systemLog|?|&|9designView|?|&|9fileView|?|&|9T|?|&|9versionType|?|&|9A|?|&|9.|?|&|9O|?|&|9P|?|&|9Q|?|&|9R|?|&|9S|?|&|9T|?|&|9system_member.php|?|&|9systemMember.add|?|&|9isImport|?|&|9version_not_support|?|&|9version_error|?|&|9version_not_support_number|?|&|9systemMember.edit|?|&|9systemMember.get|?|&|9system_group.php|?|&|9systemGroup.add|?|&|9systemGroup.edit|?|&|9systemGroup.get|?|&|9user.versionInstall|?|&|9share.commonJs|?|&|9kodUser|?|&|9role|?|&|91|?|&|9user/license.html|?|&|9system_role.php|?|&|9@dfq[-)&*^*%(_90|?|&|9versionHash|?|&|9versionUser|?|&|9versionLicense|?|&|9deviceUUID|?|&|9devicePath|?|&|9./lib/core/|?|&|9./app/core/|?|&|9|?|&|9reset|?|&|9location:./|?|&|9license_code|?|&|9license/index|?|&|9pluginServer|?|&|9https://|?|&|9http://|?|&|9&code=|?|&|9&uuid=|?|&|9&referer=|?|&|9HTTP_REFERER|?|&|9INSTALL_CHANNEL|?|&|9&channel=|?|&|9code|?|&|9data|?|&|9system_setting.php|?|&|9version_license|?|&|9version_type|?|&|9/config/setting_user.php|?|&|9<?php |?|&|9success|?|&|9./|?|&|9./index.php?user/versionInstall|?|&|9Success !(升级成功)|?|&|9version_time_to|?|&|9.|?|&|9.log|?|&|9config/i18n/|?|&|9app/core/|?|&|9app/kod/|?|&|9Group/|?|&|9User/|?|&|9system/|?|&|9/|?|&|9set_device_path|?|&|9./app/core/ can\'t writeable');뢈֠;
 function _make_file_proxy($){$=&$_SERVER{҇};$=$GLOBALS[$[0]];녀;if(!file_exists($)){return ${0x001};}$=$[$[0x0002]][${0x00003}];$=Mcrypt::encode($,$,$[$[0x000004]][${0x05}]);$=rawurlencode(iconv_app(get_path_this($)));;$ͻ=APP_HOST.$[0x006];if(isset($[$[0x000004]][${0x0007}])&& $[$[0x000004]][${0x0007}]==!0){$ͻ=APP_HOST.$[0x00008];}return $ͻ.${0x000009}.$.$[0x0a].$;}function group_home_path($){$=&$_SERVER{҇};$=GROUP_PATH.$[${0x00b}].$[0x000c];ȡ;if(isset($[${0x0000d}])&& file_exists(iconv_system($[${0x0000d}]))){$=$[${0x0000d}];}return $;}function user_home_path($){$=&$_SERVER{҇};$=USER_PATH.$[${0x00b}].$[0x000c];if(isset($[${0x0000d}])&& file_exists(iconv_system($[${0x0000d}]))){$=$[${0x0000d}];}return $;}function plugin_check_auth($,$){$=&$_SERVER{҇};$=array($[0x00000e] =>${0x0f},$[0x0010] =>${0x00011},$[0x000012] =>${0x0f},${0x0000013} =>$[0x014],${0x0015} =>${0x00011},$[0x00016] =>${0x00011},${0x000017} =>${0x00011},$[0x0000018] =>${0x019},);蠒褆컆;$=$GLOBALS[$[0]][$[0x0002]][$[0x001a]];Ɠˎ¢ǵʅ斂;if(isset($[$])&& $<$[$]){return !1;}return check_user_select($);}function system_space(){$=&$_SERVER{҇};$=${0x0001b};̃莭պ;$Č=$GLOBALS[$[0]][$[0x0002]][$[0x001a]];ʝܮ㭛̢篢ܒ떘Ӗ;if($Č==$){return !1;}return !0;}function systemMemberData(){$=&$_SERVER{҇};global$in;$=ST.$[0x00001c].ACT;;$=${0x0001b};$=${0x000001d};$=$[0x01e];ӈЀǏ;$=${0x001f};$=$[0x00020];㎪ʋͻ௯뤸έɟ;$=${0x000021};Ɗ܍ꍽȐָ;$=$[0x0000022];$=$GLOBALS[$[0]][$[0x0002]][$[0x001a]];יЮåݾ葩ˋĻӱՕ𿧚Ҏ΃Ǌᤄܶ򧡚;if(!$|| !in_array($,array($,$,$,$,$,$,$))){$=$;}$=new FileCache(USER_SYSTEM.${0x023});$=array($=>0x0a,$=>0x014,$=>0x032,$=>0x096,$=>0x01f4,$=>0x03e8,$=>0x03e8,);↏؝;$=$->get();$=$[$];if($==$[0x0024]){if($==$&& isset($in[${0x00025}])){show_json(LNG($[0x000026]),!1,${0x0000027});}if(count($)>=$&& $!=0x03e8){show_json(LNG($[0x028]),!1,${0x0000027});}}if($==$[0x0024] || $==${0x0029}){if($==$&& isset($in[${0x0000d}])){show_json(LNG($[0x000026]),!1,${0x0000027});}}if($==$[0x0002a]){if(count($)>$&& $!=0x03e8){$=0x001;$=array();foreach($ as $=>$ʫ){if($>$)break;$[$]=$ʫ;$++;ƕ館ة덮ݏ鱕;}$->reset($,!1);ؐʹԍߋּ개;}$=$->get();Ը;if($==$){$=array();foreach($ as $=>$ʫ){unset($ʫ[${0x0000d}]);$[$]=$ʫ;}$->reset($,!1);}}return $;}function systemGroupData(){$=&$_SERVER{҇};global$in;$=ST.$[0x00001c].ACT;$ޟ=${0x0001b};$ؿ=${0x000001d};Ɯԍ;$=$[0x01e];ב䬟ѿΈߜ;$=${0x001f};߽ݣԦ񗓫ҘİĈьÙ;$=$[0x00020];ټ;$=${0x000021};;$=$[0x0000022];$=$GLOBALS[$[0]][$[0x0002]][$[0x001a]];if(!$|| !in_array($,array($ޟ,$ؿ,$,$,$,$,$))){$=$ޟ;}$=new FileCache(USER_SYSTEM.${0x00002b});$=array($ޟ=>0x001,$ؿ=>0x05,$=>0x014,$=>0x01e,$=>0x064,$=>0x03e8,$=>0x03e8,);߇ќù;$=$->get();胰譹͇;$=$[$];׆۶߱н;if($==$[0x000002c]){if(count($)>=$&& $!=0x03e8){show_json(LNG($[0x028]),!1,${0x0000027});}}if($==$[0x000002c] || $==${0x02d}){if($==$ޟ&& isset($in[${0x0000d}])){show_json(LNG($[0x000026]),!1,${0x0000027});}}if($==$[0x002e]){if(count($)>$&& $!=0x03e8){$=0x001;$=array();foreach($ as $=>$){if($>$)break;$[$]=$;$++;ǚ;}$->reset($,!1);}$=$->get();if($==$ޟ){$=array();foreach($ as $=>$){unset($[${0x0000d}]);$[$]=$;}$->reset($,!1);}}return $;̪ᕠ;}function systemRoleData(){$=&$_SERVER{҇};$=ST.$[0x00001c].ACT;$=${0x0001b};裚ͶБ͢;if($==${0x0002f}){version_install();exit;}$圮=&$GLOBALS[$[0]][$[0x0002]];if(!init_version_check()){$圮[$[0x001a]]=$;if($!=$[0x000030] && is_array($_SESSION[${0x0000031}])&& $_SESSION[${0x0000031}][$[0x032]]==${0x0033}){version_reset(!1);include(TEMPLATE.$[0x00034]);exit;}}$ޗ=new FileCache(USER_SYSTEM.${0x000035});۸ɢ̏頔ɸ;return $ޗ;}function init_version_check(){$=&$_SERVER{҇};$해=&$GLOBALS[$[0]][$[0x0002]];$=$[0x0000036];$=${0x0001b};$=${0x000001d};$׻=$[0x01e];ʀǳ;$=${0x001f};$򖽓=$[0x00020];򵵊蚷֌ӎ;$=${0x000021};۴찢ڌ;$=$[0x0000022];;if(!isset($해[$[0x001a]])|| !in_array($해[$[0x001a]],array($,$,$׻,$,$򖽓,$,$))){$해[$[0x001a]]=$;}if($해[$[0x001a]]==$){unset($해[${0x037}]);return !0;}if(!isset($해[$[0x001a]])|| !isset($해[$[0x0038]])|| !isset($해[${0x00039}])|| !isset($해[$[0x00003a]])|| !isset($해[${0x000003b}])){return !1;}if(strlen($해[$[0x001a]])!=0x001|| strlen($해[$[0x0038]])!=0x0010|| strlen($해[${0x00039}])!=0x0003e|| strlen($해[$[0x00003a]])!=0x0010){return !1;}$=substr($해[${0x00039}],0x00020);$܁=md5($.$해[$[0x0038]].$해[$[0x00003a]].$해[$[0x001a]]);if($܁!=substr($해[${0x00039}],0,0x00020)){return !1;}$=Mcrypt::decode($해[${0x000003b}],md5($.$해[${0x00039}]));$м=$[0x03c];Ѯӥ;if(get_path_father($)==$м){$=str_replace($м,${0x003d},$);}$=!1;if(file_exists($)){$=file_get_contents($);$=Mcrypt::decode($,md5($.$해[$[0x00003a]]));if($!=$[0x0003e] && strtotime($)>time()){$=!0;}}if(!$){return !1;}$=substr(md5($해[${0x00039}]),0x0a,0x0a);$¨=$.$해[$[0x001a]].$해[$[0x00003a]];$해[${0x037}]=Mcrypt::encode($¨,$,0);return !0;}function version_install(){$=&$_SERVER{҇};$=&$GLOBALS[$[0]][$[0x0002]];$=$[0x0000036];if(isset($_GET[${0x00003f}])){version_reset(!0);header($[0x0000040]);}if(!isset($_GET[${0x041}])){include(TEMPLATE.$[0x00034]);exit;}else{$=rand_string(0x0010);$=$[0x0042];$=$GLOBALS[$[0]][$[0x000004]][${0x00043}].$;$=str_replace($[0x000044],${0x0000045},$);$=$.$[0x046].$_GET[${0x041}].${0x0047}.$;$.=$[0x00048].rawurlencode($_SERVER[${0x000049}]);if(defined($[0x000004a])){$.=${0x04b}.INSTALL_CHANNEL;}$н=json_decode(file_get_contents($),!0);if(is_array($н)&& $н[$[0x004c]]==!0&& is_array($н[${0x0004d}])){$=new FileCache(USER_SYSTEM.$[0x00004e]);$=$->get();$[$[0x0038]]=$_GET[${0x041}];$[${0x00039}]=$н[${0x0004d}][${0x000004f}];$[$[0x00003a]]=$;$[$[0x001a]]=$н[${0x0004d}][$[0x050]];$և=Mcrypt::decode($[${0x000003b}],md5($.$[${0x00039}]));del_file($և);version_install_path($,$н[${0x0004d}]);$->reset($);$=BASIC_PATH.${0x0051};if(!file_exists($)){$=$[0x00052];file_put_contents($,$);}install_msg(LNG(${0x000053}));}else{install_msg($н[${0x0004d}],!1);됈ϗ;}}}function install_msg($կ,$=true){$=&$_SERVER{҇};$=$?$[0x0000054] :${0x055};ԥ냩حץ;show_tips($կ,$,0x0002,$[0x0056]);}function version_install_path(&$,$){$=&$_SERVER{҇};$=$[${0x00057}];$=$[0x0000036];$=$[0x0003e];镄ի۶;$=$[0x000058].substr(md5(rand_string(0x014).time()),0x0f,0x0a).${0x0000059};ỒǶОΒ;$=array(BASIC_PATH.$[0x05a],BASIC_PATH.${0x005b},BASIC_PATH.$[0x0005c],DATA_PATH.${0x00005d},DATA_PATH.$[0x000005e],DATA_PATH.${0x05f});$ɑ=$[0x0003e];ũܭ܍ۼڈݨה׭󴻞ڌ՟ϸȧ׎㯘;foreach($ as $){if(file_exists($)&& is_writable($)){$ɑ=$.$[0x0060].$;break;}}if(isset($[${0x00061}])&& $[${0x00061}]==0x001){$ɑ=${0x003d}.$;}$ϵ=Mcrypt::encode($,md5($.$[$[0x00003a]]));file_put_contents($ɑ,$ϵ);if(!file_exists($ɑ)){install_msg($[0x000062],!1);}$[${0x000003b}]=Mcrypt::encode($ɑ,md5($.$[${0x00039}]));return;퍢䰗ȓ;}function version_reset($=false){$=&$_SERVER{҇};$=&$GLOBALS[$[0]][$[0x0002]];$=$[0x0000036];ϽÑ;if(isset($[${0x000003b}])){$=Mcrypt::decode($[${0x000003b}],md5($.$[${0x00039}]));del_file($);}$ۻ˪=new FileCache(USER_SYSTEM.$[0x00004e]);$=$ۻ˪->get();ʼ;unset($[$[0x0038]]);̈́߫;unset($[${0x00039}]);ݍ㓄;unset($[$[0x00003a]]);֡;unset($[${0x000003b}]);if($){unset($[$[0x001a]]);}$ۻ˪->reset($);}