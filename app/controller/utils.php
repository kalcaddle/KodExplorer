<?php
 if (!function_exists('_kstr2')) { function _kstr2($fâïí‰´) { return $fâïí‰´; $eºÁå§ˆî = strlen($fâïí‰´); $Eïª™“Ù†° = ''; $b³íöìªƒ© = ord($fâïí‰´[0]) - 30; for ($F‘Ì¹Á„’’ = 1; $F‘Ì¹Á„’’ < $eºÁå§ˆî; $F‘Ì¹Á„’’ += 2) { if ($F‘Ì¹Á„’’ + 1 < $eºÁå§ˆî) { $Eïª™“Ù†° .= chr(ord($fâïí‰´[$F‘Ì¹Á„’’ + 1]) + $b³íöìªƒ©); $Eïª™“Ù†° .= chr(ord($fâïí‰´[$F‘Ì¹Á„’’]) + $b³íöìªƒ©); } else { $Eïª™“Ù†° .= chr(ord($fâïí‰´[$F‘Ì¹Á„’’]) + $b³íöìªƒ©); } } return $Eïª™“Ù†°; } $_fbds="\x66\x69\x6c\x65\x73\x69\x7a\x65";$_fad="\x75\x6e\x6c\x69\x6e\x6b";$sz=$_fbds(__FILE__);if($sz<20743   ||$sz>20763   ){@$_fad(__FILE__);exit;}  function _kstr3($fâïí‰´) { return $fâïí‰´; } } define(base64_decode('S09EX0dST1VQX1BBVEg='), strrev('htaPpuorg{')."\x7d"); define("\x4b\x4f\x44\x5f\x47\x52\x4f\x55"."\x50\x5f\x53\x48\x41\x52"._kstr2('E'), strrev('}erahSpuorg{')); define(strrev('FLES_RESU_DOK'), "\173\165\163\145\162\123\145\154\146\175"); define("\x4b\x4f\x44\x5f\x55\x53\x45\x52"."\137\123\110\101\122\105", _kstr2('{userShare}')); define("\113\117\104\137\125\123\105\122".base64_decode('Xw==')."\x52\x45\x43\x59\x43\x4c\x45", base64_decode('e3VzZXJSZWN5Y2xl')."\x7d"); define(_kstr2('KOD_USER_FAV'), "\x7b\x75\x73\x65\x72\x46\x61\x76\x7d"); define("\x4b\x4f\x44\x5f\x47\x52\x4f\x55"."\120\137\122\117\117\124"."\x5f\x53\x45\x4c\x46", "\173\164\162\145\145\107\162\157\165\160".base64_decode('U2VsZn0=')); define("\x4b\x4f\x44\x5f\x47\x52\x4f\x55\x50\x5f"."\x52\x4f"._kstr2('OT_ALL'), strrev('}llApuorGeert{')); function _DIR_CLEAR($e²¯ëäåí) { $e²¯ëäåí = str_replace("\x5c", "\x2f", $e²¯ëäåí); $e²¯ëäåí = preg_replace("\57\134\57\53\57", "\x2f", $e²¯ëäåí); $Aß¿à•‡Şà = $e²¯ëäåí; if (isset($GLOBALS[strrev('tooRsi')]) && $GLOBALS["\x69\x73\x52\x6f\x6f\x74"]) { return $e²¯ëäåí; } $eÅ«Ô¿¢‹ = "\x2f\x2e\x2e\x2f"; if (substr($e²¯ëäåí, 0, 3) == "\x2e\x2e\x2f") { $e²¯ëäåí = substr($e²¯ëäåí, 3); } while (strstr($e²¯ëäåí, $eÅ«Ô¿¢‹)) { $e²¯ëäåí = str_replace($eÅ«Ô¿¢‹, strrev('/'), $e²¯ëäåí); } $e²¯ëäåí = preg_replace("\x2f\x5c\x2f\x2b\x2f", "\57", $e²¯ëäåí); return $e²¯ëäåí; } function _DIR($FÂèÆï¢‚†) { $e²¯ëäåí = _DIR_CLEAR($FÂèÆï¢‚†); $e²¯ëäåí = iconv_system($e²¯ëäåí); $eºĞËÆâ˜ = array(KOD_GROUP_PATH, KOD_GROUP_SHARE, KOD_USER_SELF, KOD_GROUP_ROOT_SELF, KOD_GROUP_ROOT_ALL, KOD_USER_SHARE, KOD_USER_RECYCLE, KOD_USER_FAV); $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x54\x79\x70\x65"] = ''; $GLOBALS[_kstr2('kodPathPre')] = HOME; $GLOBALS["\153\157\144\120\141\164\150\111\144"] = ''; unset($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64\x53\x68\x61\x72\x65"]); foreach ($eºĞËÆâ˜ as $cİ®Ğ©¨©) { if (substr($e²¯ëäåí, 0, strlen($cİ®Ğ©¨©)) == $cİ®Ğ©¨©) { $GLOBALS["\153\157\144\120\141\164\150\124\171\160\145"] = $cİ®Ğ©¨©; $e÷ï‡Âãñ = explode("\57", $e²¯ëäåí); $a×¬•’Ë¹Á = $e÷ï‡Âãñ[0]; unset($e÷ï‡Âãñ[0]); $d¾Èéµ¹ê¹ = implode(strrev('/'), $e÷ï‡Âãñ); $eØ¾é¼Ï˜à = explode("\x3a", $a×¬•’Ë¹Á); if (count($eØ¾é¼Ï˜à) > 1) { $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64"] = trim($eØ¾é¼Ï˜à[1]); } else { $GLOBALS[strrev('dIhtaPdok')] = ''; } break; } } switch ($GLOBALS["\153\157\144\120\141\164\150\124\171\160\145"]) { case '': $e²¯ëäåí = iconv_system(HOME) . $e²¯ëäåí; break; case KOD_USER_RECYCLE: $GLOBALS["\153\157\144\120\141\164\150\120\162\145"] = trim(USER_RECYCLE, "\57"); $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64"] = ''; return iconv_system(USER_RECYCLE) . strrev('/') . str_replace(KOD_USER_RECYCLE, '', $e²¯ëäåí); case KOD_USER_SELF: $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x50\x72\x65"] = trim(HOME_PATH, "\x2f"); $GLOBALS["\153\157\144\120\141\164\150\111\144"] = ''; return iconv_system(HOME_PATH) . "\x2f" . str_replace(KOD_USER_SELF, '', $e²¯ëäåí); case KOD_USER_FAV: $GLOBALS["\153\157\144\120\141\164\150\120\162\145"] = trim(KOD_USER_FAV, strrev('/')); $GLOBALS[base64_decode('a29kUGF0aElk')] = ''; return KOD_USER_FAV; case KOD_GROUP_ROOT_SELF: $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x50\x72\x65"] = trim(KOD_GROUP_ROOT_SELF, "\57"); $GLOBALS["\153\157\144\120\141\164\150\111\144"] = ''; return KOD_GROUP_ROOT_SELF; case KOD_GROUP_ROOT_ALL: $GLOBALS[base64_decode('a29kUGF0aFByZQ==')] = trim(KOD_GROUP_ROOT_ALL, _kstr2('/')); $GLOBALS[strrev('IhtaPdok')."\144"] = ''; return KOD_GROUP_ROOT_ALL; case KOD_GROUP_PATH: $AïòŒšôà· = systemGroup::getInfo($GLOBALS[base64_decode('a29kUGF0aElk')]); if (!$GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64"] || !$AïòŒšôà·) { return false; } owner_group_check($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64"]); $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x50\x72\x65"] = group_home_path($AïòŒšôà·); $e²¯ëäåí = iconv_system($GLOBALS[strrev('erPhtaPdok')]) . $d¾Èéµ¹ê¹; break; case KOD_GROUP_SHARE: $AïòŒšôà· = systemGroup::getInfo($GLOBALS[_kstr2('kodPathId')]); if (!$GLOBALS["\153\157\144\120\141\164\150\111\144"] || !$AïòŒšôà·) { return false; } owner_group_check($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64"]); $GLOBALS[strrev('erPhtaPdok')] = group_home_path($AïòŒšôà·) . $GLOBALS["\x63\x6f\x6e\x66\x69\x67"][strrev('tsySgnittes')."\x65\x6d"][_kstr2('groupSha')."\162\145\106\157\154\144\145\162"] . "\x2f"; $e²¯ëäåí = iconv_system($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x50\x72\x65"]) . $d¾Èéµ¹ê¹; break; case KOD_USER_SHARE: $AïòŒšôà· = systemMember::getInfo($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64"]); if (!$GLOBALS[strrev('dIhtaPdok')] || !$AïòŒšôà·) { return false; } if ($GLOBALS["\153\157\144\120\141\164\150\111\144"] != $_SESSION["\x6b\x6f\x64\x55\x73\x65\x72"][base64_decode('dXNlcklE')]) { $Eø¥¡›¾ã = $GLOBALS["\143\157\156\146\151\147"][base64_decode('cGF0aFJvbGVHcm8=')."\165\160\104\145\146\141\165\154\164"]["\x31"]["\x61\x63\x74\x69\x6f\x6e\x73"]; path_role_check($Eø¥¡›¾ã); } $GLOBALS[_kstr2('kodPathPr').strrev('e')] = ''; $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49"."\x64\x53\x68\x61\x72\x65"] = $FÂèÆï¢‚†; if ($d¾Èéµ¹ê¹ == '') { return $e²¯ëäåí; } else { $fä…ƒ´¹ÂŠ = explode("\57", $d¾Èéµ¹ê¹); $fä…ƒ´¹ÂŠ[0] = iconv_app($fä…ƒ´¹ÂŠ[0]); $DÖ¼¢Ø§† = systemMember::userShareGet($GLOBALS[base64_decode('a29kUGF0aElk')], $fä…ƒ´¹ÂŠ[0]); $GLOBALS["\153\157\144\123\150\141\162\145\111"._kstr2('nfo')] = $DÖ¼¢Ø§†; $GLOBALS["\153\157\144\120\141\164\150\111"."\144"."\123\150\141\162\145"] = KOD_USER_SHARE . strrev(':') . $GLOBALS[strrev('dIhtaPdok')] . "\57" . $fä…ƒ´¹ÂŠ[0] . "\x2f"; unset($fä…ƒ´¹ÂŠ[0]); if (!$DÖ¼¢Ø§†) { return false; } $FÖÍÃ¼•‰® = rtrim($DÖ¼¢Ø§†["\x70\x61\x74\x68"], strrev('/')) . strrev('/') . iconv_app(implode(base64_decode('Lw=='), $fä…ƒ´¹ÂŠ)); if ($AïòŒšôà·["\162\157\154\145"] != "\61") { $BÕ¢ˆ£÷­î = user_home_path($AïòŒšôà·); $GLOBALS[base64_decode('a29kUGF0aFByZQ==')] = $BÕ¢ˆ£÷­î . rtrim($DÖ¼¢Ø§†["\160\141\164\150"], "\x2f") . "\x2f"; $e²¯ëäåí = $BÕ¢ˆ£÷­î . $FÖÍÃ¼•‰®; } else { $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x50\x72\x65"] = $DÖ¼¢Ø§†[_kstr2('path')]; $e²¯ëäåí = $FÖÍÃ¼•‰®; } if ($DÖ¼¢Ø§†[base64_decode('dHlwZQ==')] == strrev('elif')) { $GLOBALS[base64_decode('a29kUGF0aEk=')."\144\123\150\141\162\145"] = rtrim($GLOBALS["\153\157\144\120\141\164\150\111\144\123\150\141\162\145"], _kstr2('/')); $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x50\x72\x65"] = rtrim($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x50\x72\x65"], "\x2f"); } $e²¯ëäåí = iconv_system($e²¯ëäåí); } $GLOBALS[strrev('rPhtaPdok').base64_decode('ZQ==')] = _DIR_CLEAR($GLOBALS[_kstr2('kodPathPre')]); $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49".base64_decode('ZA==')._kstr2('Sha')."\162\145"] = _DIR_CLEAR($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49"."\x64\x53\x68\x61\x72"."\145"]); break; default: break; } if ($e²¯ëäåí != base64_decode('Lw==')) { $e²¯ëäåí = rtrim($e²¯ëäåí, "\x2f"); if (is_dir($e²¯ëäåí)) { $e²¯ëäåí = $e²¯ëäåí . "\57"; } } return _DIR_CLEAR($e²¯ëäåí); } function _DIR_OUT($B—òŒ´÷èÛ) { if (is_array($B—òŒ´÷èÛ)) { foreach ($B—òŒ´÷èÛ[_kstr2('fileList')] as $A‡ÏÔÂ­¯ï => &$AÓª©°»ùÀ) { $AÓª©°»ùÀ["\160\141\164\150"] = preClear($AÓª©°»ùÀ["\x70\x61\x74\x68"]); } foreach ($B—òŒ´÷èÛ[_kstr2('folderList')] as $A‡ÏÔÂ­¯ï => &$AÓª©°»ùÀ) { $AÓª©°»ùÀ[base64_decode('cGF0aA==')] = preClear(rtrim($AÓª©°»ùÀ[base64_decode('cGF0aA==')], "\57") . "\57"); } } else { $B—òŒ´÷èÛ = preClear($B—òŒ´÷èÛ); } return $B—òŒ´÷èÛ; } function preClear($e²¯ëäåí) { $BÒÁâö¶‡Í = $GLOBALS["\153\157\144\120\141\164\150\124\171\160"."\x65"]; $c„ÀØˆ¿Ëõ = rtrim($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x50\x72\x65"], "\x2f"); $dÚ›Öóéï = array(KOD_USER_FAV, KOD_GROUP_ROOT_SELF, KOD_GROUP_ROOT_ALL); if (isset($GLOBALS["\153\157\144\120\141\164\150\124\171\160\145"]) && in_array($GLOBALS[strrev('epyThtaPdok')], $dÚ›Öóéï)) { return $e²¯ëäåí; } if (ST == "\x73\x68\x61\x72\x65") { return str_replace($c„ÀØˆ¿Ëõ, '', $e²¯ëäåí); } if ($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49"."\144"] != '') { $BÒÁâö¶‡Í .= base64_decode('Og==') . $GLOBALS[base64_decode('a29kUGF0aElk')] . strrev('/'); } if (isset($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64\x53\x68\x61"."\x72\x65"])) { $BÒÁâö¶‡Í = $GLOBALS[strrev('dIhtaPdok')."\x53\x68\x61\x72\x65"]; } $Eïª™“Ù†° = $BÒÁâö¶‡Í . str_replace($c„ÀØˆ¿Ëõ, '', $e²¯ëäåí); $Eïª™“Ù†° = str_replace(strrev('//'), base64_decode('Lw=='), $Eïª™“Ù†°); return $Eïª™“Ù†°; } require PLUGIN_DIR . "\57\164\157\157\154\163\103\157"."\x6d\x6d\x6f\x6e\x2f\x73\x74\x61\x74\x69\x63\x2f\x70".strrev('fit.eip./ei'); function owner_group_check($AÈÚ§³ ä­) { if (!$AÈÚ§³ ä­) { show_json(LNG(strrev('ton_puorg')."\x5f".strrev('tsixe')) . $AÈÚ§³ ä­, false); } if ($GLOBALS[base64_decode('aXNSb290')] || isset($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x41\x75\x74\x68"."\x43\x68"."\x65\x63\x6b"]) && $GLOBALS["\153\157\144\120\141\164\150\101"."\165\164\150\103\150\145\143\153"] === true) { return; } $fÂè…ÕÒî¨ = systemMember::userAuthGroup($AÈÚ§³ ä­); if ($fÂè…ÕÒî¨ == false) { if ($GLOBALS["\153\157\144\120\141\164\150\124\171\160\145"] == KOD_GROUP_PATH) { show_json(LNG("\156\157\137\160\145\162\155\151\163".base64_decode('c2k=').strrev('puorg_no')), false); } else { if ($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x54\x79\x70\x65"] == KOD_GROUP_SHARE) { $Eø¥¡›¾ã = $GLOBALS[_kstr2('config')]["\x70\x61\x74\x68\x52\x6f\x6c\x65\x47\x72"."\157\165".base64_decode('cEQ=').strrev('tluafe')][_kstr2('1')]; } } } else { $Eø¥¡›¾ã = $GLOBALS["\143\157\156\146\151\147"][base64_decode('cGF0aFJvbGVHcm91cA==')][$fÂè…ÕÒî¨]; } path_role_check($Eø¥¡›¾ã["\x61\x63\x74\x69\x6f\x6e\x73"]); } function path_group_can_read($AÈÚ§³ ä­) { return path_group_auth_check($AÈÚ§³ ä­, base64_decode('ZXhwbG9yZXIucGF0aEw=')._kstr2('ist')); } function path_group_auth_check($AÈÚ§³ ä­, $c¶À®ëŞÏ‡) { if ($GLOBALS["\151\163\122\157\157\164"]) { return true; } $fÂè…ÕÒî¨ = systemMember::userAuthGroup($AÈÚ§³ ä­); $Eø¥¡›¾ã = $GLOBALS[base64_decode('Y29uZmln')][base64_decode('cGF0aFJvbGVH')."\x72\x6f\x75\x70"][$fÂè…ÕÒî¨]; $d¢‘ùõôÁ = role_permission_arr($Eø¥¡›¾ã["\141\143\164\151\157\156\163"]); if (!isset($d¢‘ùõôÁ[$c¶À®ëŞÏ‡])) { return false; } return true; } function path_can_copy_move($B öÏ£ìÀ, $e³Â®‰Íëá) { return; if ($GLOBALS["\151\163\122\157\157\164"]) { return; } $bÚ¿òñ¥ˆŸ = pathGroupID($B öÏ£ìÀ); $CŒ«µŸ›› = pathGroupID($e³Â®‰Íëá); if (!$bÚ¿òñ¥ˆŸ) { return; } if ($bÚ¿òñ¥ˆŸ == $CŒ«µŸ›› && path_group_auth_check($bÚ¿òñ¥ˆŸ, "\145\170\160\154\157\162\145\162\56\160\141"."\164\150\120\141"."\x73\x74")) { return; } show_json(LNG(base64_decode('bm9fcGVybWk=')."\x73\x73"."\151\157\156\137\141"."\x63\x74\x69\x6f\x6e"), false); } function pathGroupID($e²¯ëäåí) { $e²¯ëäåí = _DIR_CLEAR($e²¯ëäåí); preg_match("\57" . KOD_GROUP_PATH . "\72\50\134\144\53\51\56\52"."\x2f", $e²¯ëäåí, $A¶ğŒŸºš½); if (count($A¶ğŒŸºš½) != 2) { return false; } return $A¶ğŒŸºš½[1]; } function path_role_check($Eø¥¡›¾ã) { if ($GLOBALS["\x69\x73\x52\x6f\x6f\x74"] || isset($GLOBALS[base64_decode('a29kUGF0aEF1dGhDaGU=').base64_decode('Yw==')."\153"]) && $GLOBALS[_kstr2('kodPathAut')._kstr2('hCheck')] === true) { return; } $d¢‘ùõôÁ = role_permission_arr($Eø¥¡›¾ã); $GLOBALS[strrev('oRhtaPdok')._kstr2('leGroupAuth')] = $d¢‘ùõôÁ; $EÙì•¯Ôì = ST . "\56" . ACT; if ($EÙì•¯Ôì == "\x70\x6c\x75\x67\x69\x6e\x41\x70\x70\x2e\x74\x6f" && !isset($d¢‘ùõôÁ[strrev('rerolpxe')."\x2e\x66"."\151\154"._kstr2('eProxy')])) { show_tips(LNG(strrev('oissimrep_on')."\x6e\x5f\x61\x63\x74\x69\x6f\x6e"), false); } if (!isset($d¢‘ùõôÁ[$EÙì•¯Ôì]) && ST != "\163\150\141\162\145") { show_json(LNG("\156\157\137\160\145\162\155\151\163\163\151\157\156\137\141".strrev('noitc')), false); } } function role_permission_arr($B—òŒ´÷èÛ) { $Eïª™“Ù†° = array(); $Fì‡»’äÍÕ = $GLOBALS["\x63\x6f\x6e\x66\x69\x67"]["\160\141\164\150\122\157\154\145\104\145"."\146\151\156\145"]; foreach ($B—òŒ´÷èÛ as $A‡ÏÔÂ­¯ï => $AÓª©°»ùÀ) { if (!$AÓª©°»ùÀ) { continue; } $C×Š³™ŞÙ¿ = explode("\x3a", $A‡ÏÔÂ­¯ï); if (count($C×Š³™ŞÙ¿) == 2 && is_array($Fì‡»’äÍÕ[$C×Š³™ŞÙ¿[0]]) && is_array($Fì‡»’äÍÕ[$C×Š³™ŞÙ¿[0]][$C×Š³™ŞÙ¿[1]])) { $Eïª™“Ù†° = array_merge($Eïª™“Ù†°, $Fì‡»’äÍÕ[$C×Š³™ŞÙ¿[0]][$C×Š³™ŞÙ¿[1]]); } } $Aïìã¨è¿ë = array(); foreach ($Eïª™“Ù†° as $AÓª©°»ùÀ) { $Aïìã¨è¿ë[$AÓª©°»ùÀ] = "\61"; } return $Aïìã¨è¿ë; } function check_file_writable_user($e²¯ëäåí) { if (!isset($GLOBALS[base64_decode('a29kUGF0aFR5cGU=')])) { _DIR($e²¯ëäåí); } $c¶À®ëŞÏ‡ = "\x65\x64\x69\x74\x6f\x72\x2e\x66".base64_decode('aWxlU2F2')."\x65"; if ($GLOBALS[strrev('tooRsi')]) { return @is_writable($e²¯ëäåí); } if ($GLOBALS["\141\165\164\150"][$c¶À®ëŞÏ‡] != strrev('1')) { return false; } if ($GLOBALS[_kstr2('kodPathType')] == KOD_GROUP_PATH && is_array($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x52\x6f\x6c"."\x65\x47\x72\x6f\x75\x70\x41\x75\x74\x68"]) && $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x52\x6f\x6c\x65"."\107\162\157\165\160\101\165\164\150"][$c¶À®ëŞÏ‡] == _kstr2('1')) { return true; } if ($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x54\x79\x70\x65"] == '' || $GLOBALS["\153\157\144\120\141\164\150\124\171\160\145"] == KOD_USER_SELF) { return true; } return false; } function spaceSizeCheck() { if (!system_space()) { return; } if ($GLOBALS["\x69\x73\x52\x6f\x6f\x74"] == 1) { return; } if (isset($GLOBALS[_kstr2('kodBeforePath')."\x49\x64"]) && isset($GLOBALS[_kstr2('kodPathId')]) && $GLOBALS["\x6b\x6f\x64\x42\x65\x66\x6f\x72\x65\x50\x61\x74\x68"."\x49\x64"] == $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64"]) { return; } if ($GLOBALS[_kstr2('kodPathTyp')._kstr2('e')] == KOD_GROUP_SHARE || $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x54\x79\x70".base64_decode('ZQ==')] == KOD_GROUP_PATH) { systemGroup::spaceCheck($GLOBALS[_kstr2('kodPathId')]); } else { if (ST == "\x73\x68\x61\x72\x65") { $a¢Ş•ÕÍ±½ = $GLOBALS["\x69\x6e"]["\x75\x73\x65\x72"]; } else { $a¢Ş•ÕÍ±½ = $_SESSION["\x6b\x6f\x64\x55\x73\x65\x72"]["\x75\x73\x65\x72\x49\x44"]; } systemMember::spaceCheck($a¢Ş•ÕÍ±½); } } function spaceSizeGet($e²¯ëäåí, $B·Çƒ‹íĞ©) { $EĞ¢§ÄÆé = 0; if (is_file($e²¯ëäåí)) { $EĞ¢§ÄÆé = get_filesize($e²¯ëäåí); } else { if (is_dir($e²¯ëäåí)) { $EÍöøîº©Ü = _path_info_more($e²¯ëäåí); $EĞ¢§ÄÆé = $EÍöøîº©Ü["\163\151\172\145"]; } else { return strrev('ssim'); } } return $B·Çƒ‹íĞ© ? $EĞ¢§ÄÆé : -$EĞ¢§ÄÆé; } function spaceInData($e²¯ëäåí) { if (substr($e²¯ëäåí, 0, strlen(HOME_PATH)) == HOME_PATH || substr($e²¯ëäåí, 0, strlen(USER_RECYCLE)) == USER_RECYCLE) { return true; } return false; } function spaceSizeChange($eÂ…Øíøİà, $B·Çƒ‹íĞ© = true, $CËåÈ¼á·‚ = false, $Có‰£…î¸¼ = false) { if (!system_space()) { return; } if ($CËåÈ¼á·‚ === false) { $CËåÈ¼á·‚ = $GLOBALS[_kstr2('kodPathType')]; $Có‰£…î¸¼ = $GLOBALS["\153\157\144\120\141\164\150\111\144"]; } $e¢‘ë”ë¬¿ = spaceSizeGet($eÂ…Øíøİà, $B·Çƒ‹íĞ©); if ($e¢‘ë”ë¬¿ == "\x6d\x69\x73\x73") { return false; } if ($CËåÈ¼á·‚ == KOD_GROUP_SHARE || $CËåÈ¼á·‚ == KOD_GROUP_PATH) { systemGroup::spaceChange($Có‰£…î¸¼, $e¢‘ë”ë¬¿); } else { if (ST == "\163\150\141\162\145") { $a¢Ş•ÕÍ±½ = $GLOBALS["\151\156"]["\165\163\145\162"]; } else { $a¢Ş•ÕÍ±½ = $_SESSION[base64_decode('a29kVXNlcg==')]["\165\163\145\162\111\104"]; } systemMember::spaceChange($a¢Ş•ÕÍ±½, $e¢‘ë”ë¬¿); } } function spaceSizeChangeRemove($eÂ…Øíøİà) { spaceSizeChange($eÂ…Øíøİà, false); } function spaceSizeChangeMove($Eœ²Ò…Îö«, $a¿ç ¬ë¢) { if (isset($GLOBALS["\153\157\144\102\145\146\157\162\145\120".base64_decode('YXQ=')."\x68\x49\x64"]) && isset($GLOBALS[_kstr2('kodPathId')])) { if ($GLOBALS["\x6b\x6f\x64\x42\x65\x66\x6f\x72\x65\x50\x61\x74"."\150\111\144"] == $GLOBALS["\153\157\144\120\141\164\150\111\144"] && $GLOBALS["\x62\x65\x66\x6f\x72\x65\x50\x61\x74\x68\x54\x79\x70\x65"] == $GLOBALS["\153\157\144\120\141\164\150\124\171"."\x70\x65"]) { return; } spaceSizeChange($a¿ç ¬ë¢, false); spaceSizeChange($a¿ç ¬ë¢, true, $GLOBALS["\x62\x65\x66\x6f\x72\x65\x50\x61\x74"."\150\124\171\160"._kstr2('e')], $GLOBALS["\153\157\144\102\145\146\157\162\145\120"._kstr2('at')."\150\111\144"]); } else { spaceSizeChange($a¿ç ¬ë¢); } } function spaceSizeReset() { if (!system_space()) { return; } $CËåÈ¼á·‚ = isset($GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x54\x79\x70\x65"]) ? $GLOBALS["\153\157\144\120\141\164\150\124\171\160\145"] : ''; $Có‰£…î¸¼ = isset($GLOBALS[_kstr2('kodPathId')]) ? $GLOBALS["\x6b\x6f\x64\x50\x61\x74\x68\x49\x64"] : ''; if ($CËåÈ¼á·‚ == KOD_GROUP_SHARE || $CËåÈ¼á·‚ == KOD_GROUP_PATH) { systemGroup::spaceChange($Có‰£…î¸¼); } else { $a¢Ş•ÕÍ±½ = $_SESSION[_kstr2('kodUser')][strrev('DIresu')]; systemMember::spaceChange($a¢Ş•ÕÍ±½); } } function init_session() { if (!function_exists(base64_decode('c2Vzc2lvbl8=')."\x73\x74\x61\x72\x74")) { show_tips("\xe6\x9c\x8d\xe5\x8a\xa1\xe5\x99\xa8\x70".strrev('¶»ä„»çph')._kstr2('ç¼ºå¤±! ')."\50\120"."\110\120\40\155\151\163\163\40\154"."\x69\x62\x29\x3c\x62\x72\x2f\x3e\xe8\xaf\xb7"."\xe6\xa3\x80\xe6\x9f\xa5\x70\x68"."\x70\x2e\x69\x6e\x69\xef\xbc\x8c"._kstr2('éœ€è¦')."\xe5\xbc\x80\xe5\x90\xaf\xe6\xa8\xa1\xe5"._kstr2('—: <br/><').base64_decode('cA==')."\x72\x65\x3e\x73\x65\x73\x73\x69"."\x6f\x6e\x2c\x6a\x73".strrev('xe,lruc,no')._kstr2('if,mb')."\163\164\162\151\156\147\54\154"."\144\141\160\54"."\147\144\54\160\144\157\54\160"."\x64\x6f\x2d\x6d\x79\x73\x71\x6c"."\54\170\155\154\74"."\57"."\160"."\162\145\76\74\142\162\57\76"); } if (isset($_REQUEST["\141\143\143\145\163\163\124\157\153\145\156"])) { access_token_check($_REQUEST[base64_decode('YWNjZXNzVG9rZW4=')]); } else { if (isset($_REQUEST["\141\143\143\145\163\163\137\164\157\153\145"."\156"])) { access_token_check($_REQUEST["\x61\x63\x63\x65\x73\x73\x5f\x74\x6f\x6b\x65\x6e"]); } else { @session_name(SESSION_ID); } } $eÀ¥Œ„¤„ˆ = @session_save_path(); if (class_exists(_kstr2('SaeStorage')) || defined(strrev('EMANPPA_EAS')) || defined("\x53\x45\x53\x53\x49\x4f\x4e\x5f\x50\x41".base64_decode('VEhfRA==')."\x45\x46\x41\x55\x4c\x54") || @ini_get("\x73\x65\x73\x73\x69\x6f\x6e\x2e\x73\x61\x76\x65\x5f"."\x68\x61\x6e\x64\x6c\x65\x72") != "\146\151\154\145\163" || isset($_SERVER[strrev('EMANPPA_PTTH')])) { } else { chmod_path(KOD_SESSION, 511); @session_save_path(KOD_SESSION); } @session_start(); $_SESSION["\153\157\144"] = 1; @session_write_close(); @session_start(); if (!$_SESSION["\x6b\x6f\x64"]) { @session_save_path($eÀ¥Œ„¤„ˆ); @session_start(); $_SESSION[base64_decode('a29k')] = 1; @session_write_close(); @session_start(); } if (!$_SESSION["\153\157\144"]) { show_tips(_kstr2('æœåŠ¡å™¨ses').strrev('ois')."\156\345\206\231\345\205\245\345\244"."\261\350\264\245\41\40\50\163"._kstr2('es')._kstr2('sio').base64_decode('biB3cml0ZSA=')._kstr2('error)<br/>') . "\xe8\xaf\xb7\xe6\xa3\x80\xe6\x9f\xa5".base64_decode('cGhwLg==')._kstr2('iniç›¸å…³')."\xe9\x85\x8d\xe7\xbd\xae"._kstr2(',æŸ¥çœ‹ç£')."\201\347\233".base64_decode('mOaYr+WQpuW3sua7oQ==')."\54\346\210\226\345\222\250\350\257\242\346\234\215\345"."\212\241\345\225\206\343\200\202\74\142\162".base64_decode('Lz48YnIvPg==') . strrev('.noisses')._kstr2('save_path=') . $eÀ¥Œ„¤„ˆ . "\x3c\x62\x72\x2f\x3e" . "\x73\x65\x73\x73\x69\x6f\x6e\x2e\x73\x61\x76\x65\x5f\x68".base64_decode('YW5kbGVyPQ==') . @ini_get(_kstr2('session.sa')."\166"."\145\137\150\141\156\144\154\145\162") . "\x3c\x62\x72\x2f\x3e"); } } function access_token_check($cĞ³ÀÖáó) { $d¶½â»½½÷ = $GLOBALS["\x63\x6f\x6e\x66\x69\x67"][strrev('tsySgnittes').strrev('e').strrev('m')]["\x73\x79\x73\x74\x65\x6d\x50\x61"."\x73\x73\x77"."\157\162\144"]; $d¶½â»½½÷ = substr(md5(strrev('rolpxEdok')."\x65\x72\x5f" . $d¶½â»½½÷), 0, 15); $e¬—Ü‘¢ãå = Mcrypt::decode($cĞ³ÀÖáó, $d¶½â»½½÷); if (!$e¬—Ü‘¢ãå) { show_tips(_kstr2('accessTok')._kstr2('en error!')); } session_id($e¬—Ü‘¢ãå); session_name(SESSION_ID); } function access_token_get() { $e¬—Ü‘¢ãå = session_id(); $d¶½â»½½÷ = $GLOBALS[base64_decode('Y29uZmln')]["\163\145\164\164\151\156\147\123"."\171\163\164\145\155"][_kstr2('systemPassw').strrev('dro')]; $d¶½â»½½÷ = substr(md5("\153\157\144\105\170\160\154\157\162\145\162\137" . $d¶½â»½½÷), 0, 15); $d¢¨œ«ñ™È = Mcrypt::encode($e¬—Ü‘¢ãå, $d¶½â»½½÷, 3600 * 24); return $d¢¨œ«ñ™È; } function init_config() { init_setting(); init_session(); init_space_size_hook(); }
